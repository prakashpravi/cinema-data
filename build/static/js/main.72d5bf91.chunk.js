(this["webpackJsonpmy-idea"]=this["webpackJsonpmy-idea"]||[]).push([[0],{200:function(e,t,a){},390:function(e,t,a){},419:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){},442:function(e,t,a){},443:function(e,t,a){},447:function(e,t,a){},475:function(e,t,a){},476:function(e,t,a){},477:function(e,t,a){},478:function(e,t,a){},490:function(e,t,a){},491:function(e,t,a){"use strict";a.r(t);var n,i,s,r,o,c,l,u,d,m,j=a(0),h=a.n(j),p=a(45),b=(a(273),a(34)),f=a(35),v=a(38),O=a(37),g=a(257),x=a(53),y=a(20),w=a.n(y),N=a(43),I=a(61),S=a(502),C=a(266),k=a(128),T=a(88),M=a(501),_=a(262),P=a(506),D=a(56),q=a(510),A=a(511),F=(a(200),a(2)),Y=S.a.Title,L=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).setInputValue=function(e,t){n.setState(Object(I.a)({},e,t))},n.handleSubmit=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,C.b.loading("Login In....",5);case 3:fetch("http://193.164.132.55:3001/api/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:n.state.username,password:n.state.password})}).then((function(e){return e.json()})).then((function(e){if("valid  user"===e.info||"email send successfully"===e.info){var t,a,i;if(localStorage.setItem("user_id_login",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id),localStorage.setItem("user_name",n.state.username),1===(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.role_id))localStorage.setItem("admin",null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.role_id);n.props.history.push("/signin")}else C.b.error("Faild to login",5)})).catch((function(e){C.b.error("Faild to login",5),console.log(e,5)}));case 4:case"end":return e.stop()}}),e)}))),n.state={username:"",password:""},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){localStorage.clear()}},{key:"render",value:function(){var e=this,t=this.state.username;return Object(F.jsx)("div",{className:"main-login",children:Object(F.jsxs)(k.a,{style:{height:"100%"},children:[Object(F.jsx)(T.a,{md:{span:24},lg:{span:12},className:"f-col",children:Object(F.jsx)("div",{className:"main",children:Object(F.jsxs)(M.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(F.jsx)(_.a,{size:54,src:"assets/TITLES (2).png",className:"avatar"}),Object(F.jsx)(Y,{level:3,className:"title",children:"Sign In"}),Object(F.jsx)(M.a.Item,{name:"username",rules:[{required:!0,message:"Please enter your username!"}],children:Object(F.jsx)(P.a,{autoFocus:!0,autoComplete:"off",className:"Input",onChange:function(t){return e.setInputValue("username",t.target.value)},prefix:Object(F.jsx)(q.a,{className:"site-form-item-icon"}),value:t,placeholder:"user id / mail"})}),Object(F.jsx)(M.a.Item,{style:{margin:0}}),Object(F.jsx)(M.a.Item,{children:Object(F.jsxs)(D.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:["Submit ",Object(F.jsx)(A.a,{className:"loginIcon"})]})})]})})}),Object(F.jsxs)(T.a,{span:12,className:"s-col",children:[Object(F.jsx)("div",{className:"circle-ripple"}),Object(F.jsx)("img",{style:{width:"100%",height:"100%"},alt:"img",src:"https://s3-eu-central-1.amazonaws.com/centaur-wp/marketingweek/prod/content/uploads/2020/05/20125057/shutterstock_586719869-750x500.jpg"})]})]})})}}]),a}(j.Component),z=a(31),B={admin:"/admin",Login:"/login",forget:"/forget",HomeCom:"/home",signIn:"/signin",form:"/form",mymovie:"/mymovie",notification:"/notification",passwordchange:"/passwordchange",request:"/request"},R=a(267),U=a(504),$=a(499),V=a(496),E=a(263),H=a(507),Z=a(173),J=a(94),Q=(a(390),a(66)),K=a.n(Q),W=a(512),G=a(89),X=a(90),ee=a.n(X),te=ee()(n||(n=Object(G.a)(["query MyQuery {\n  allMovieTitles (filter: {isPurchase: {equalTo: false}}){\n    nodes {\n      nodeId\n      createdBy\n      createdAt\n      description\n      id\n      isActive\n      isPurchase\n      movieImage\n      name\n      englishTitleName\n      price\n      updatedAt\n      updatedBy\n    }\n  }\n}"]))),ae=function(e){return ee()(r||(r=Object(G.a)(['query MyQuery {\n  allMovieTitles(filter: {createdBy: {equalTo: "','"}, isPurchase: {equalTo: true}}) {\n    nodes {\n      name\n      id\n      englishTitleName\n      description\n      createdAt\n      price\n      movieImage\n      isPurchase\n    }\n  }\n}\n'])),e)},ne=ee()(c||(c=Object(G.a)(["query MyQuery {\n  allMovieTitles {\n    nodes {\n    name\n    id\n    englishTitleName\n    createdAt\n    price\n    movieImage\n    description\n    isPurchase\n    }\n  }\n}"]))),ie=function(e){return ee()(l||(l=Object(G.a)(['query MyQuery {\n    userProfileById(id: "','") {\n      id\n      email\n      createdAt\n      birthday\n      firstName\n      lastName\n      mobileNo\n      profileImg\n    }\n  }\n  '])),e)},se=function(e,t,a,n,i,s,r){return ee()(u||(u=Object(G.a)(['mutation {\n      createMovieTitle(\n        input: {\n          movieTitle: {\n            name: "','"\n            englishTitleName: "','"\n            price: "','"\n            description: "','"\n            movieImage: "','"\n            id: "','"\n            isPurchase: false\n            updatedBy: "','"\n            createdBy: "','"\n            createdAt: "','"\n            updatedAt: "','"\n            isActive: true\n          }\n        }\n      ) {\n        clientMutationId\n      }\n    }\n    '])),e,e,t,a,n,i,s,s,r,r)},re=function(e,t,a,n,i,s,r){return ee()(m||(m=Object(G.a)(['mutation {\n    updateUserProfileById(\n      input: {\n        userProfilePatch: {\n          birthday: "','"\n          email: "','"\n          firstName: "','"\n          lastName: "','"\n          mobileNo: "','"\n          profileImg: "','"\n        }\n        id: "','"\n      }\n    ) {\n      clientMutationId\n    }\n  }\n    '])),i,a,e,t,n,s,r)},oe=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.client.query({query:ie(localStorage.getItem("user_id"))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.userProfileById;localStorage.setItem("emailId",null===a||void 0===a?void 0:a.email),n.setState({firstName:null===a||void 0===a?void 0:a.firstName,lastName:null===a||void 0===a?void 0:a.lastName,mobile_no:null===a||void 0===a?void 0:a.mobileNo,birthday:K()(null===a||void 0===a?void 0:a.birthday).format("YYYY-MM-DD"),email:null===a||void 0===a?void 0:a.email,fileList:(null===a||void 0===a?void 0:a.profileImg)?[{uid:"-1",status:"done",url:null===a||void 0===a?void 0:a.profileImg}]:[],id:null===a||void 0===a?void 0:a.id,movieImage:null===a||void 0===a?void 0:a.profileImg})}})).catch((function(e){console.log("err:",e)})),n.props.client.query({query:localStorage.getItem("admin")?ne:ae(localStorage.getItem("user_id"))}).then((function(e){var t,a;(null===e||void 0===e?void 0:e.data)&&n.setState({listdata:null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes})})).catch((function(e){console.log("err:",e)}));case 2:case"end":return e.stop()}}),e)}))),n.logout=function(){localStorage.clear(),n.props.history.push("/login")},n.handleopen=function(){var e=n.state;n.setState({open:!e.open})},n.handlechange=function(e,t){var a=n.state;n.setState(Object(z.a)(Object(z.a)({},a),{},Object(I.a)({},e,t)))},n.getBase64=function(e,t){var a=new FileReader;return a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},n.handleChange=function(e){e.file.originFileObj&&n.getBase64(e.file.originFileObj,(function(t){n.setState({fileList:[{uid:"-1",name:e.file.name,status:"done",url:t}],movieImage:t})}))},n.handleSubmit=Object(N.a)(w.a.mark((function e(){var t,a,i,s,r,o,c,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.firstName,i=t.lastName,s=t.email,r=t.mobile_no,o=t.birthday,c=t.movieImage,l=t.id,c){e.next=4;break}return C.b.error("Please upload the movie image",5),e.abrupt("return",!1);case 4:return e.next=6,C.b.loading("Loading....",5);case 6:n.props.client.mutate({mutation:re(a,i,s,r,K()(o).format("YYYY-MM-DD"),c,l)}).then((function(e){R.a.success({message:"Success",description:"Your profile has been updated!"}),n.setState({open:!1})})).catch((function(e){C.b.error(e,5)}));case 7:case"end":return e.stop()}}),e)}))),n.state={open:!1,firstName:null,lastName:null,email:null,mobile_no:null,birthday:null,fileList:[],movieImage:null,id:null,listdata:[]},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.firstName,i=t.lastName,s=t.email,r=t.mobile_no,o=t.birthday,c=t.fileList,l=t.listdata,u=window.location.pathname;return Object(F.jsxs)("div",{className:"headermain",children:[Object(F.jsx)(U.a,{title:"Profile Details",placement:"right",onClose:function(){return e.handleopen()},visible:a,width:310,children:Object(F.jsxs)("div",{style:{textAlign:"center"},children:[Object(F.jsx)($.a,{onChange:function(t){return e.handleChange(t)},action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:c.length>0?c:[],multiple:!1,listType:"picture-card",onRemove:function(){return e.setState({fileList:[],movieImage:null})},children:"Image Upload"}),Object(F.jsxs)(M.a,{name:"normal_login",onFinish:function(){return e.handleSubmit()},children:[Object(F.jsx)("br",{}),Object(F.jsx)(P.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:n||"",size:"large",onChange:function(t){return e.handlechange("firstName",t.target.value)},placeholder:"FirstName",required:!0}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)(P.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:i||"",size:"large",required:!0,onChange:function(t){return e.handlechange("lastName",t.target.value)},placeholder:"LastName"}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)(P.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:s||"",size:"large",onChange:function(t){return e.handlechange("email",t.target.value)},placeholder:"email",required:!0}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)(P.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:r,size:"large",onChange:function(t){return e.handlechange("mobile_no",t.target.value)},placeholder:"mobile_no",required:!0}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)(P.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:K()(o).format("YYYY-MM-DD"),size:"large",onChange:function(t){return e.handlechange("birthday",t.target.value)},placeholder:"birthday",required:!0}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)(D.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Update"})]})]})}),Object(F.jsx)(V.a,{ghost:!1,title:Object(F.jsxs)(E.a,{separator:!1,className:"Breadcrumb",children:[Object(F.jsx)(E.a.Item,{className:"home",children:Object(F.jsx)("img",{className:"imgss",alt:"img",style:{position:"absolute",marginTop:-8},src:"assets/TITLES (2).png",onClick:function(){return window.location.href="/home"}})}),Object(F.jsxs)("div",{className:"center_of",children:[Object(F.jsx)(E.a.Item,{className:"home ".concat("/home"===u&&"active"),onClick:function(){return window.location.href="/home"},children:"Home"}),Object(F.jsx)(E.a.Item,{className:"home mb sv ".concat("/mymovie"===u&&"active"),onClick:function(){return window.location.href="/mymovie"},children:localStorage.getItem("admin")?"Data's":" My movies"}),Object(F.jsx)(E.a.Item,{className:"home mb lg ".concat("/notification"===u&&"active"),onClick:function(){return window.location.href="/notification"},children:Object(F.jsx)(H.a,{size:"small",count:0===(null===l||void 0===l?void 0:l.length)?"0,":null===l||void 0===l?void 0:l.length,style:{backgroundColor:"#52c41a",color:"#fff"},children:"Notification"})}),localStorage.getItem("admin")&&Object(F.jsx)(E.a.Item,{className:"home mb sv ".concat("/request"===u&&"active"),onClick:function(){return window.location.href="/request"},children:"Request"})]})]}),extra:[Object(F.jsx)(Z.a,{arrow:!0,placement:"bottomCenter",overlay:Object(F.jsxs)(J.a,{className:"menulist_item",children:[Object(F.jsx)(J.a.Item,{className:"menulist_item",onClick:function(){return e.handleopen()},children:"Profile"}),Object(F.jsx)(J.a.Item,{className:"menulist_item",onClick:function(){return e.logout()},children:"Logout"}),Object(F.jsx)(J.a.Item,{className:"menulist_item hinmbl",onClick:function(){return window.location.href="/notification"},children:localStorage.getItem("admin")?"Data's":" My movies"}),Object(F.jsx)(J.a.Item,{className:"menulist_item hinmbl",onClick:function(){return window.location.href="/mymovie"},children:"Notification"}),localStorage.getItem("admin")&&Object(F.jsx)(J.a.Item,{className:"menulist_item hinmbl",onClick:function(){return window.location.href="/request"},children:"Request"})]}),children:Object(F.jsx)("span",{style:{cursor:"pointer"},children:"More\u25be"})})]})]})}}]),a}(h.a.Component),ce=Object(W.a)(oe),le=a(143),ue=a(174),de=a(98),me=(a(419),a(245)),je=a.n(me),he=(a(434),function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return Object(F.jsx)("div",{className:"main_carousel",children:Object(F.jsx)(je.a,Object(z.a)(Object(z.a)({className:"sliders"},{dots:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,speed:1e3,autoplaySpeed:2e3,arrows:!1}),{},{children:["https://moviegalleri.net/wp-content/gallery/sultan-images/Sultan-Movie-Images-HD-Karthi-Rashmika-Mandanna-35c2f2c.jpg","https://moviegalleri.net/wp-content/gallery/master-hd-images/Master-Movie-HD-Images-Vijay-Sethupathi-Malavika-Mohanan-814b98d.jpg","https://moviegalleri.net/wp-content/gallery/karnan-images-hd/Dhanush-Karnan-Movie-Images-HD-Photos-Pics-6d71a1a.jpg"].map((function(e){return Object(F.jsx)("div",{className:"sliders",children:Object(F.jsx)("img",{src:e,alt:"img"})})}))}))})}}]),a}(j.Component)),pe=a(503),be=(a(435),function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.children,n=e.onOk,i=e.onCancel,s=e.okTextTitle,r=e.titleText,o=e.footer;return Object(F.jsx)(pe.a,{className:"modal-of-com",title:r&&r,style:{top:20},visible:t&&t,onOk:function(){return n&&n()},onCancel:function(){return i&&i()},okText:s&&s,footer:o&&o,children:a})}}]),a}(h.a.Component)),fe=(a(436),a(500)),ve=fe.a.Meta,Oe=S.a.Title,ge=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).handleModal=function(e){var t=n.state;n.setState(Object(z.a)(Object(z.a)({},t),{},{open:!t.open,show_data:e}))},n.state={open:!1,show_data:null},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.show_data,i=this.props.listdata;return Object(F.jsxs)("div",{className:"linelist_main",children:[Object(F.jsx)(be,{open:a,onCancel:function(){return e.handleModal()},okText:!1,children:Object(F.jsxs)(k.a,{gutter:16,children:[Object(F.jsx)(T.a,{xs:{span:24},sm:{span:12},children:Object(F.jsx)("img",{style:{width:"100%"},alt:"img",src:null===n||void 0===n?void 0:n.img})}),Object(F.jsxs)(T.a,{xs:{span:24},sm:{span:12},children:[Object(F.jsxs)(Oe,{level:5,className:"modal_title",children:[Object(F.jsx)("label",{children:"Name :"}),null===n||void 0===n?void 0:n.name]}),Object(F.jsxs)(Oe,{level:5,className:"modal_title",children:[Object(F.jsx)("label",{children:"Registered date :"})," ",null===n||void 0===n?void 0:n.registered_date]})]}),Object(F.jsxs)(Oe,{level:5,className:"modal_title_dis",children:[Object(F.jsx)("label",{children:"Short description of movie :"})," ",null===n||void 0===n?void 0:n.dis]})]})}),Object(F.jsx)(k.a,{gutter:16,children:null===i||void 0===i?void 0:i.map((function(t){return Object(F.jsx)(T.a,{xs:{span:24},sm:{span:12},md:{span:6},children:Object(F.jsx)(fe.a,{onClick:function(){return e.handleModal(t)},hoverable:!0,cover:Object(F.jsx)("img",{alt:"example",src:null===t||void 0===t?void 0:t.img}),children:Object(F.jsx)(ve,{title:null===t||void 0===t?void 0:t.name})})})}))})]})}}]),a}(h.a.Component),xe=S.a.Title,ye=S.a.Text,we=P.a.Search,Ne=le.a.Option,Ie=P.a.TextArea,Se=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),2e3);case 2:n.props.client.query({query:localStorage.getItem("admin")?ne:ae(localStorage.getItem("user_id"))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i,s=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a||null===(i=a.nodes)||void 0===i?void 0:i.filter((function(e){return e.registered_date=K()(null===e||void 0===e?void 0:e.createdAt).format("DD/MM/YYYY"),e.img=null===e||void 0===e?void 0:e.movieImage,e.dis=null===e||void 0===e?void 0:e.description,e}));n.setState({listdata:s})}})).catch((function(e){console.log("err:",e)}));case 3:case"end":return e.stop()}}),e)}))),n.handleSubmit=function(){var e=Object(N.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("token")){e.next=6;break}return e.next=3,C.b.info("Please sign in to continue...",5);case 3:n.props.history.push("/login"),e.next=7;break;case 6:n.setState(Object(z.a)(Object(z.a)({},n.state),{},{searchdata:t}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChanges=function(e){n.setState(Object(z.a)(Object(z.a)({},n.state),{},{searchdata:e}))},n.handleopn=function(){var e=n.state;n.setState(Object(z.a)(Object(z.a)({},e),{},{open:!e.open}))},n.onChange=function(e){var t=n.state;n.setState(Object(z.a)(Object(z.a)({},t),{},{selectdata:e}))},n.handleselectopen=function(){var e=n.state;n.setState(Object(z.a)(Object(z.a)({},e),{},{selectopen:!e.selectopen}))},n.handlerequest=Object(N.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,n.setState(Object(z.a)(Object(z.a)({},t),{},{selectopen:!t.selectopen})),e.next=4,C.b.success("Your request has been sended successfully they will get you soon...!",5);case 4:n.props.history.push("/admin");case 5:case"end":return e.stop()}}),e)}))),n.state={open:!1,searchdata:"",selectdata:"",selectopen:!1,listdata:[],loader:!0},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.searchdata,i=t.listdata,s=t.selectopen,r=t.loader,o=null===i||void 0===i?void 0:i.filter((function(e){var t;return e.englishTitleName?null===(t=e.englishTitleName)||void 0===t?void 0:t.toLowerCase().includes(n.toLowerCase()):e}));return Object(F.jsxs)("div",{className:"drivermain",children:[r&&Object(F.jsx)("div",{className:"loader",children:Object(F.jsx)(ue.a,{size:"large"})}),!r&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(be,{open:a,onCancel:function(){return e.handleopn()},okText:!1,children:"I'll explain to Soon !"}),Object(F.jsx)(he,{}),Object(F.jsxs)("div",{className:"search",children:[Object(F.jsx)(xe,{level:4,className:"title",children:"Title Search"}),Object(F.jsx)(we,{className:"search_field",placeholder:"Search title...",enterButton:"Search",size:"large",value:n,onChange:function(t){return e.handleChanges(t.target.value)},onSearch:function(t){e.handleSubmit(t)}}),Object(F.jsx)(ye,{className:"guidline",onClick:function(){return e.handleopn()},children:"How to use this"}),n&&Object(F.jsx)(ge,{searchdata:n,listdata:o}),n&&!(null===o||void 0===o?void 0:o.length)>0&&Object(F.jsxs)("div",{children:[Object(F.jsx)(de.a,{}),Object(F.jsx)(D.a,{className:"pay_btn",onClick:function(){return e.props.history.push("/form")},children:"Buy Now"})," "]}),Object(F.jsxs)(be,{open:s,onCancel:function(){return e.handleselectopen()},okText:!1,children:[Object(F.jsxs)(le.a,{showSearch:!0,style:{width:"100%",margin:"20px 0px"},placeholder:"Choose your plan",onChange:this.onChange,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:[Object(F.jsx)(Ne,{value:"price $100 (1 year of validity)",children:"price $100 (1 year of validity)"}),Object(F.jsx)(Ne,{value:"price $500 (5 year of validity)",children:"price $500 (5 year of validity)"}),Object(F.jsx)(Ne,{value:"price $1000 (10 year of validity)",children:"price $1000 (10 year of validity)"})]}),Object(F.jsx)(Ie,{rows:4,placeholder:"Description"}),Object(F.jsx)("br",{}),Object(F.jsx)(D.a,{className:"continue_pay_btn",onClick:function(){return e.handlerequest()},children:"Continue to Buy Now"})," "]})]})]})]})}}]),a}(h.a.Component),Ce=Object(W.a)(Se),ke=(a(442),P.a.TextArea),Te=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return Object(F.jsx)("div",{className:"main_admin",children:Object(F.jsxs)(k.a,{gutter:16,children:[Object(F.jsx)(T.a,{xs:{span:24},sm:{span:12},children:Object(F.jsx)(P.a,{placeholder:"name",value:"Black Panther",style:{width:"100%"},suffix:"name"})}),Object(F.jsx)(T.a,{xs:{span:24},sm:{span:12},children:Object(F.jsx)(P.a,{placeholder:"name",value:"American superhero",style:{width:"100%"},suffix:"Registered Name"})}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),Object(F.jsx)(T.a,{xs:{span:24},sm:{span:12},children:Object(F.jsx)(P.a,{placeholder:"name",value:"21/01/2021",style:{width:"100%"},suffix:"Registered Date"})}),Object(F.jsx)(T.a,{xs:{span:24},sm:{span:12},children:Object(F.jsx)(ke,{placeholder:"name",rows:4,value:"Black Panther is a 2018 American superhero film based on the Marvel Comics character of the same name. Produced by Marvel Studios and distributed by Walt Disney Studios Motion Pictures, it is the 18th film in the Marvel Cinematic Universe (MCU).",style:{width:"100%"},suffix:"Description"})}),Object(F.jsx)(D.a,{className:"continue_submit_btn",children:"Submit"})]})})}}]),a}(j.Component),Me=(a(443),a(249)),_e=S.a.Title,Pe=le.a.Option,De=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),2e3);case 2:n.props.client.query({query:ie(localStorage.getItem("user_id"))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.userProfileById;n.setState({name:(null===a||void 0===a?void 0:a.firstName)+" "+(null===a||void 0===a?void 0:a.lastName),mobile_no:null===a||void 0===a?void 0:a.mobileNo,birthday:K()(null===a||void 0===a?void 0:a.birthday).format("YYYY-MM-DD"),email:null===a||void 0===a?void 0:a.email})}})).catch((function(e){C.b.error("Faild to fetch data",5)}));case 3:case"end":return e.stop()}}),e)}))),n.setInputValue=function(e,t){n.setState(Object(I.a)({},e,t))},n.onChange=function(e){var t=n.state;n.setState(Object(z.a)(Object(z.a)({},t),{},{validity:e}))},n.handleSubmit=Object(N.a)(w.a.mark((function e(){var t,a,i,s,r,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.moviename,i=t.description,s=t.validity,r=t.movieImage){e.next=4;break}return C.b.error("Please upload the movie image",5),e.abrupt("return",!1);case 4:return o={"price $100 (1 year of validity)":"100","price $500 (5 year of validity)":"500","price $1000 (10 year of validity)":"1000"},e.next=7,C.b.loading("Loading....",5);case 7:n.props.client.mutate({mutation:se(a,o[s],i,r,Object(Me.uuid)(),localStorage.getItem("user_id"),K()(new Date).format("YYYY-MM-DD"))}).then((function(e){console.log(e),R.a.success({message:"Success",description:"Your details has been successful!"}),n.setState(Object(z.a)({},n.state)),window.location.href="/home"})).catch((function(e){C.b.error("Faild to fetch data",5)}));case 8:case"end":return e.stop()}}),e)}))),n.getBase64=function(e,t){var a=new FileReader;return a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},n.handleChange=function(e){e.file.originFileObj&&n.getBase64(e.file.originFileObj,(function(t){n.setState({fileList:[{uid:"-1",name:e.file.name,status:"done",url:t}],movieImage:t})}))},n.state={name:null,mobile_no:null,email:null,birthday:null,moviename:null,validity:null,description:null,movieImage:null,fileList:[],loader:!0},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.mobile_no,i=t.email,s=t.birthday,r=t.moviename,o=t.validity,c=t.description,l=t.fileList,u=t.loader;return Object(F.jsxs)("div",{className:"main-form",children:[Object(F.jsx)("br",{}),Object(F.jsx)("br",{}),u&&Object(F.jsx)("div",{className:"loader",children:Object(F.jsx)(ue.a,{size:"large"})}),!u&&Object(F.jsxs)(F.Fragment,{children:[" ",Object(F.jsx)(fe.a,{title:"Personal Details",className:"cards",children:Object(F.jsxs)(k.a,{gutter:16,children:[Object(F.jsxs)(T.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(F.jsx)(_e,{level:5,className:"titles",children:"User Name"}),Object(F.jsx)(P.a,{style:{width:"96%"},placeholder:"User Name",className:"filed",disabled:!0,value:a,size:"large"})]}),Object(F.jsxs)(T.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(F.jsx)(_e,{level:5,className:"titles",children:"Date of birth"}),Object(F.jsx)(P.a,{style:{width:"96%"},placeholder:"Please input",className:"filed",disabled:!0,size:"large",value:s})]}),Object(F.jsxs)(T.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(F.jsx)(_e,{level:5,className:"titles",children:"Email"}),Object(F.jsx)(P.a,{style:{width:"96%"},placeholder:"Please input",className:"filed",disabled:!0,size:"large",value:i})]}),Object(F.jsxs)(T.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(F.jsx)(_e,{level:5,className:"titles",children:"Mobile Number"}),Object(F.jsx)(P.a,{style:{width:"96%"},placeholder:"Please input",className:"filed",disabled:!0,size:"large",value:n})]})]})}),Object(F.jsx)(fe.a,{title:"Movie Details",className:"cards",children:Object(F.jsxs)(M.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(F.jsxs)(k.a,{gutter:16,children:[Object(F.jsxs)(T.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(F.jsx)(_e,{level:5,className:"titles",children:"Movie Image"}),Object(F.jsx)($.a,{onChange:function(t){return e.handleChange(t)},action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:l,multiple:!1,listType:"picture-card",onRemove:function(){return e.setState({fileList:[],movieImage:null})},children:"+ Upload"})]}),Object(F.jsxs)(T.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(F.jsx)(_e,{level:5,className:"titles",children:"Movie Name"}),Object(F.jsx)(M.a.Item,{name:"moviename",rules:[{required:!0,message:"Please enter your movie name!"}],children:Object(F.jsx)(P.a,{autoFocus:!0,style:{width:"96%"},autoComplete:"off",className:"Input",onChange:function(t){return e.setInputValue("moviename",t.target.value)},size:"large",value:r,placeholder:"Movie Name"})})]}),Object(F.jsxs)(T.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(F.jsx)(_e,{level:5,className:"titles",children:"Choose your plan"}),Object(F.jsx)(M.a.Item,{name:"validity",rules:[{required:!0,message:"Please select your validity!"}],children:Object(F.jsxs)(le.a,{showSearch:!0,allowClear:!0,style:{width:"96%"},placeholder:"Choose yor plan",size:"large",onChange:this.onChange,value:o,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:[Object(F.jsx)(Pe,{value:"price $100 (1 year of validity)",children:"price $100 (1 year of validity)"}),Object(F.jsx)(Pe,{value:"price $500 (5 year of validity)",children:"price $500 (5 year of validity)"}),Object(F.jsx)(Pe,{value:"price $1000 (10 year of validity)",children:"price $1000 (10 year of validity)"})]})})]}),Object(F.jsxs)(T.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(F.jsx)(_e,{level:5,className:"titles",children:"Enter your description"}),Object(F.jsx)(M.a.Item,{name:"description",rules:[{required:!0,message:"Please enter your description!"}],children:Object(F.jsx)(P.a.TextArea,{style:{width:"96%"},onChange:function(t){return e.setInputValue("description",t.target.value)},value:c})})]})]}),Object(F.jsx)(D.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Proceed to Buynow"})]})})]})]})}}]),a}(j.Component),qe=Object(W.a)(De),Ae=a(509),Fe=(a(447),a(513)),Ye=a(175),Le=a.n(Ye),ze=a(144),Be=a(497),Re=a(498),Ue=function(e){var t=e.editable,a=e.value,n=e.onChange;return Object(F.jsx)("div",{children:t?Object(F.jsx)(P.a,{style:{margin:"-5px 0"},value:a,onChange:function(e){return n(e.target.value)}}):a})},$e=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).columns=[{title:"Name",dataIndex:"englishTitleName",width:"25%",render:function(e,t){return n.renderColumns(e,t,"englishTitleName")}},{title:"Description",dataIndex:"description",width:"15%",render:function(e,t){return n.renderColumns(e,t,"description")}},{title:"CreatedAt",dataIndex:"createdAt",width:"40%",render:function(e,t){return n.renderColumns(e,t,"createdAt")}},{title:"Action",dataIndex:"action",render:function(e,t){var a=t.editable;return Object(F.jsx)("div",{className:"editable-row-operations",children:a?Object(F.jsxs)("span",{children:[Object(F.jsx)("b",{onClick:function(){return n.save(t.key)},children:"Save"}),"\xa0",Object(F.jsx)(Be.a,{title:"Sure to cancel?",onConfirm:function(){return n.cancel(t.key)},children:Object(F.jsx)("b",{children:"Cancel"})})]}):Object(F.jsx)("b",{onClick:function(){return n.edit(t.key)},children:"Edit"})})}}],n.state={data:n.props.data},n.cacheData=n.props.data.map((function(e){return Object(z.a)({},e)})),n}return Object(f.a)(a,[{key:"renderColumns",value:function(e,t,a){var n=this;return Object(F.jsx)(Ue,{editable:t.editable,value:e,onChange:function(e){return n.handleChange(e,t.key,a)}})}},{key:"handleChange",value:function(e,t,a){var n=Object(ze.a)(this.state.data),i=n.filter((function(e){return t===e.key}))[0];i&&(i[a]=e,this.setState({data:n}))}},{key:"edit",value:function(e){var t=Object(ze.a)(this.state.data),a=t.filter((function(t){return e===t.key}))[0];a&&(a.editable=!0,this.setState({data:t}))}},{key:"save",value:function(e){var t=this,a=Object(ze.a)(this.state.data),n=a.filter((function(t){return e===t.key}))[0];n&&(delete n.editable,this.setState({data:a}),this.cacheData=a.map((function(e){return Object(z.a)({},e)})),a.map((function(e){return t.props.client.mutate({mutation:(a=e.englishTitleName,n=e.price,i=e.description,s=e.id,r=localStorage.getItem("user_id"),o=K()(new Date).format("YYYY-MM-DD"),ee()(d||(d=Object(G.a)(['mutation MyMutation {\n    updateMovieTitleById(\n      input: {\n        movieTitlePatch: {\n          name: "','"\n          englishTitleName: "','"\n          updatedBy: "','"\n          updatedAt: "','"\n          price: "','"\n          description: "','"\n          createdBy: "','"\n          createdAt: "','"\n        }\n        id: "','"\n      }\n    ) {\n      clientMutationId\n    }\n  }\n    '])),a,a,r,o,n,i,r,o,s))}).then((function(e){console.log(e),R.a.success({message:"Success",description:"Your details has been successfully updated!"})})).catch((function(e){C.b.error("Faild to fetch data",5)}));var a,n,i,s,r,o})))}},{key:"cancel",value:function(e){var t=Object(ze.a)(this.state.data),a=t.filter((function(t){return e===t.key}))[0];a&&(Object.assign(a,this.cacheData.filter((function(t){return e===t.key}))[0]),delete a.editable,this.setState({data:t}))}},{key:"render",value:function(){return Object(F.jsx)(Re.a,{bordered:!0,dataSource:this.state.data,columns:this.columns})}}]),a}(h.a.Component),Ve=Object(W.a)($e),Ee=S.a.Title,He=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),1e3);case 2:n.props.client.query({query:localStorage.getItem("admin")?ne:ae(localStorage.getItem("user_id"))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes;n.setState({listdata:i})}})).catch((function(e){console.log("err:",e)}));case 3:case"end":return e.stop()}}),e)}))),n.readFileContents=function(){var e=Object(N.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=new FileReader;n.onload=function(t){e(n.result.split(/[\r\n]+/g))},n.onerror=a,n.readAsText(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAllFiles=function(){var e=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.readFileContents(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return a=e.sent,console.log(a),e.abrupt("return",n.setState({data:t}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleUpload=function(){var e=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0],n.saveData(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveData=function(){var e=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),e.next=4,C.b.loading("uploading....",5);case 4:Le.a.post("http://193.164.132.55:3001/api/bulk_upload_user",a).then((function(e){!0!==e.error?(R.a.success({message:"Success",description:"Your file uplaod has been successful!"}),window.location.reload()):C.b.error("Faild to uplaod",5)})).catch((function(e){C.b.error("Faild to uplaod",5),console.log(e,5)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={loader:!0,listdata:[],data:[]},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loader,n=t.listdata;return Object(F.jsxs)("div",{children:[a&&Object(F.jsx)("div",{className:"loader",children:Object(F.jsx)(ue.a,{size:"large"})}),!a&&Object(F.jsxs)("div",{className:"mymovie_main",children:[Object(F.jsx)(Ee,{level:5,className:"m_title",children:localStorage.getItem("admin")?"Data's":"Your Movies"}),localStorage.getItem("admin")&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:"drap",children:Object(F.jsxs)("div",{className:"root",children:[Object(F.jsx)("input",{type:"file",multiple:!0,onChange:function(t){return e.handleUpload(t)},disabled:this.props.disabled,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),Object(F.jsx)(Fe.a,{className:"icons"}),Object(F.jsx)("p",{className:"testupload",children:"Drag & Drop your files here"}),Object(F.jsx)("p",{className:"testupload",children:"OR"}),Object(F.jsx)(D.a,{className:"submit",style:{textTransform:"capitalize",padding:"8px 22px",fontSize:13},children:"Browse Files"})]})}),Object(F.jsx)("br",{})]}),!localStorage.getItem("admin")&&(null===n||void 0===n?void 0:n.map((function(e){return Object(F.jsxs)(Ae.b.Item,{className:"cards",children:[Object(F.jsx)(Ae.b.Item.Meta,{avatar:Object(F.jsx)(_.a,{src:null===e||void 0===e?void 0:e.movieImage}),title:(null===e||void 0===e?void 0:e.englishTitleName)+" "+K()(null===e||void 0===e?void 0:e.birthday).format("YYYY-MM-DD"),description:null===e||void 0===e?void 0:e.description}),Object(F.jsx)("div",{className:"dis",children:Object(F.jsx)(D.a,{type:"primary",danger:!0,children:"Proceed to extend validity"})})]})}))),localStorage.getItem("admin")&&Object(F.jsx)("div",{children:Object(F.jsx)(Ve,{data:n})})]})]})}}]),a}(j.Component),Ze=Object(W.a)(He),Je=a(514),Qe=(a(475),S.a.Title),Ke=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).setInputValue=function(e,t){n.setState(Object(I.a)({},e,t))},n.handleSubmit=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.b.loading("Loding...",5);case 2:fetch("http://3.141.17.227:3001/api/new_password",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:n.state.password,otp:n.state.otp,id:localStorage.getItem("forget_id")})}).then((function(e){return e.json()})).then((function(e){"password change successfully"===e.info?(R.a.success({message:"Success",description:"Your password change successfully!"}),n.props.history.push("/login")):C.b.error("Faild",5)})).catch((function(e){C.b.error(e,5)}));case 3:case"end":return e.stop()}}),e)}))),n.state={password:null,otp:null},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.otp,n=t.password;return Object(F.jsx)("div",{className:"passwordchange",children:Object(F.jsxs)(k.a,{className:"workspacelog",children:[Object(F.jsx)(Qe,{level:5,className:"dis_title",children:"Forget password"}),Object(F.jsxs)(M.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(F.jsx)(M.a.Item,{name:"otp",rules:[{required:!0,message:"Please enter your otp!"}],children:Object(F.jsx)(P.a,{size:"large",autoFocus:!0,autoComplete:"off",className:"Input",value:a,placeholder:"Please enter OTP",onChange:function(t){return e.setInputValue("otp",t.target.value)}})}),Object(F.jsx)(M.a.Item,{name:"password",rules:[{required:!0,message:"Please enter your password!"}],children:Object(F.jsx)(P.a.Password,{size:"large",autoFocus:!0,autoComplete:"off",className:"Input",value:n,type:"password",placeholder:"Please enter password",onChange:function(t){return e.setInputValue("password",t.target.value)}})}),Object(F.jsxs)(M.a.Item,{children:[Object(F.jsxs)(D.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:["Submit ",Object(F.jsx)(A.a,{className:"loginIcon"})]}),Object(F.jsxs)("span",{className:"login-form-register",children:["Back to your sign in \xa0",Object(F.jsxs)("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return e.props.history.push("/login")},children:["Login ",Object(F.jsx)(Je.a,{})]})," "]})]})]})]})})}}]),a}(j.Component),We=(a(476),a(515)),Ge=a(516),Xe=S.a.Title,et=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),2e3);case 2:n.props.client.query({query:localStorage.getItem("admin")?ne:(t=localStorage.getItem("user_id"),ee()(o||(o=Object(G.a)(['query MyQuery {\n  allMovieTitles(filter: {createdBy: {equalTo: "','"}}) {\n    nodes {\n      name\n      id\n      englishTitleName\n      description\n      createdAt\n      price\n      movieImage\n      isPurchase\n    }\n  }\n}\n'])),t))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes;n.setState({listdata:i})}})).catch((function(e){console.log("err:",e)}));case 3:case"end":return e.stop()}var t}),e)}))),n.state={loader:!0,listdata:[]},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this.state,t=e.loader,a=e.listdata;return Object(F.jsxs)("div",{children:[t&&Object(F.jsx)("div",{className:"loader",children:Object(F.jsx)(ue.a,{size:"large"})}),!t&&Object(F.jsxs)("div",{className:"notification_main",children:[Object(F.jsx)(Xe,{level:5,className:"m_title",children:"Your Notifications"}),0===(null===a||void 0===a?void 0:a.length)&&Object(F.jsx)(de.a,{}),null===a||void 0===a?void 0:a.map((function(e){return Object(F.jsxs)(Ae.b.Item,{className:"cards",children:[Object(F.jsx)(Ae.b.Item.Meta,{avatar:Object(F.jsx)(_.a,{src:null===e||void 0===e?void 0:e.movieImage}),title:null===e||void 0===e?void 0:e.englishTitleName,description:null===e||void 0===e?void 0:e.description}),Object(F.jsx)("div",{className:"dis",children:(null===e||void 0===e?void 0:e.isPurchase)?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(We.a,{})," Verified"]}):Object(F.jsxs)(F.Fragment,{children:[" ",Object(F.jsx)(Ge.a,{style:{color:"red"}})," ",Object(F.jsx)("span",{style:{color:"red"},children:"Failed"})]})})]})}))]})]})}}]),a}(j.Component),tt=Object(W.a)(et),at=(a(477),S.a.Title),nt=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),2e3);case 2:n.props.client.query({query:te}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes;n.setState({listdata:i})}})).catch((function(e){console.log("err:",e)}));case 3:case"end":return e.stop()}}),e)}))),n.cancelAll=function(){var e=Object(N.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,fetch("http://193.164.132.55:3001/api/sent_message",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:localStorage.getItem("emailId"),message:"Sorry the (".concat(null===t||void 0===t?void 0:t.englishTitleName,") movie name was decline")})}).then((function(e){return e.json()})).then((function(e){R.a.success({message:"Success",description:"This item was decline"}),window.location.reload()})).catch((function(e){C.b.error("Faild to canel rquest",5),console.log(e,5)}));case 3:return e.next=5,n.props.client.mutate({mutation:(a=t.id,ee()(s||(s=Object(G.a)(['mutation MyMutation {\n    deleteMovieTitleById(input: { id: "','" }) {\n      clientMutationId\n      deletedMovieTitleId\n    }\n  }'])),a))}).then((function(e){})).catch((function(e){console.log("err:",e)}));case 5:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),n.accpectAll=function(){var e=Object(N.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.client.mutate({mutation:(a=t.id,ee()(i||(i=Object(G.a)(['mutation MyMutation {\n    updateMovieTitleById(\n      input: {\n        id: "','"\n        movieTitlePatch: { isPurchase: true }\n      }\n    ) {\n      clientMutationId\n    }\n  }\n  '])),a))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes;n.setState({listdata:i}),window.location.reload()}})).catch((function(e){console.log("err:",e)}));case 2:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={loader:!0,listdata:[]},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loader,n=t.listdata;return Object(F.jsxs)("div",{children:[a&&Object(F.jsx)("div",{className:"loader",children:Object(F.jsx)(ue.a,{size:"large"})}),!a&&Object(F.jsxs)("div",{className:"request_main",children:[Object(F.jsx)(at,{level:5,className:"m_title",children:"Request's"}),0===(null===n||void 0===n?void 0:n.length)&&Object(F.jsx)(de.a,{}),null===n||void 0===n?void 0:n.map((function(t){return Object(F.jsxs)(Ae.b.Item,{className:"cards",children:[Object(F.jsx)(Ae.b.Item.Meta,{avatar:Object(F.jsx)(_.a,{src:null===t||void 0===t?void 0:t.movieImage}),title:(null===t||void 0===t?void 0:t.englishTitleName)+" "+K()(null===t||void 0===t?void 0:t.birthday).format("YYYY-MM-DD"),description:null===t||void 0===t?void 0:t.description}),Object(F.jsxs)("div",{className:"dis",children:[Object(F.jsx)(D.a,{type:"primary",onClick:function(){return e.accpectAll(t)},children:"Accpect"}),"\xa0",Object(F.jsx)(D.a,{type:"primary",danger:!0,onClick:function(){return e.cancelAll(t)},children:"Cancel"})]})]})}))]})]})}}]),a}(j.Component),it=Object(W.a)(nt),st=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).Content=function(){return window.location.pathname===B.request?Object(F.jsx)(it,Object(z.a)({},n.props)):window.location.pathname===B.passwordchange?Object(F.jsx)(Ke,Object(z.a)({},n.props)):window.location.pathname===B.notification?Object(F.jsx)(tt,Object(z.a)({},n.props)):window.location.pathname===B.mymovie?Object(F.jsx)(Ze,Object(z.a)({},n.props)):window.location.pathname===B.form?Object(F.jsx)(qe,Object(z.a)({},n.props)):window.location.pathname===B.admin?Object(F.jsx)(Te,Object(z.a)({},n.props)):window.location.pathname===B.HomeCom?Object(F.jsx)(Ce,Object(z.a)({},n.props)):void 0},n.state={},n}return Object(f.a)(a,[{key:"render",value:function(){return Object(F.jsx)(k.a,{style:{width:"max-content"},children:Object(F.jsxs)(T.a,{children:[" ",Object(F.jsx)(ce,Object(z.a)({},this.props)),this.Content()]})})}}]),a}(j.Component),rt=(a(478),a(517)),ot=S.a.Title,ct=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).handleSubmit=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.b.loading("Loding...",5);case 2:fetch("http://3.141.17.227:3001/api/forget_password",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n.state.email})}).then((function(e){return e.json()})).then((function(e){var t;"email send successfully"===e.info?(R.a.success({message:"Success",description:"Your email sended successful!"}),n.props.history.push("/passwordchange"),localStorage.setItem("forget_id",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id)):C.b.error("Faild",5)})).catch((function(e){C.b.error(e,5)}));case 3:case"end":return e.stop()}}),e)}))),n.setInputValue=function(e,t){n.setState(Object(I.a)({},e,t))},n.state={email:null},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state.email;return Object(F.jsx)("div",{className:"workspace",children:Object(F.jsxs)(k.a,{className:"workspacelog",children:[Object(F.jsx)(ot,{level:5,className:"dis_title",children:"Forget password"}),Object(F.jsxs)(M.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(F.jsx)(M.a.Item,{name:"email",rules:[{required:!0,message:"Please enter your mail!"}],children:Object(F.jsx)(P.a,{size:"large",autoFocus:!0,autoComplete:"off",className:"Input",prefix:Object(F.jsx)(rt.a,{}),value:t,onChange:function(t){return e.setInputValue("email",t.target.value)},placeholder:"example@gmail.com"})}),Object(F.jsxs)(M.a.Item,{children:[Object(F.jsxs)(D.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:["Submit ",Object(F.jsx)(A.a,{className:"loginIcon"})]}),Object(F.jsxs)("span",{className:"login-form-register",children:["Back to your sign in \xa0",Object(F.jsxs)("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return e.props.history.push("/login")},children:["Login ",Object(F.jsx)(Je.a,{})]})," "]})]})]})]})})}}]),a}(j.Component),lt=S.a.Title,ut=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).setInputValue=function(e,t){n.setState(Object(I.a)({},e,t))},n.handleSubmit=Object(N.a)(w.a.mark((function e(){var t,a,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("admin")?"username":"id",i=localStorage.getItem("admin")?"password":"otp",e.next=5,C.b.loading("Login In....",5);case 5:fetch("http://193.164.132.55:3001/api/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify((t={},Object(I.a)(t,a,n.state.username),Object(I.a)(t,i,n.state.password),t))}).then((function(e){return e.json()})).then((function(e){var t;"login sucess"===e.info?(R.a.success({message:"Success",description:"User login has been successful!"}),localStorage.setItem("token",null===e||void 0===e?void 0:e.token),localStorage.setItem("user_id",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id),n.props.history.push("/home")):C.b.error("Faild to login",5)})).catch((function(e){C.b.error("Faild to login",5),console.log(e,5)}));case 6:case"end":return e.stop()}}),e)}))),n.state={username:localStorage.getItem("admin")?localStorage.getItem("user_name"):localStorage.getItem("user_id_login"),password:""},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state.password;return Object(F.jsx)("div",{className:"main-login",children:Object(F.jsxs)(k.a,{style:{height:"100%"},children:[Object(F.jsx)(T.a,{md:{span:24},lg:{span:12},className:"f-col",children:Object(F.jsx)("div",{className:"main",children:Object(F.jsxs)(M.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(F.jsx)(_.a,{size:54,src:"assets/TITLES (2).png",className:"avatar"}),Object(F.jsx)(lt,{level:3,className:"title",children:"Sign In"}),Object(F.jsx)(M.a.Item,{name:"password",rules:[{required:!0,message:"1"===localStorage.getItem("admin")?"Please enter your password":"Please enter your otp"}],children:Object(F.jsx)(P.a,{autoFocus:!0,autoComplete:"off",className:"Input",onChange:function(t){return e.setInputValue("password",t.target.value)},prefix:Object(F.jsx)(q.a,{className:"site-form-item-icon"}),value:t,placeholder:"1"===localStorage.getItem("admin")?"please enter password":"please enter otp"})}),Object(F.jsx)(M.a.Item,{style:{margin:0}}),Object(F.jsx)(M.a.Item,{children:Object(F.jsxs)(D.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:["Log in ",Object(F.jsx)(A.a,{className:"loginIcon"})]})})]})})}),Object(F.jsxs)(T.a,{span:12,className:"s-col",children:[Object(F.jsx)("div",{className:"circle-ripple"}),Object(F.jsx)("img",{style:{width:"100%",height:"100%"},alt:"img",src:"https://s3-eu-central-1.amazonaws.com/centaur-wp/marketingweek/prod/content/uploads/2020/05/20125057/shutterstock_586719869-750x500.jpg"})]})]})})}}]),a}(j.Component),dt=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return Object(F.jsx)(g.a,{children:Object(F.jsxs)(x.c,{children:[Object(F.jsx)(x.a,{exact:!0,path:"/",component:L}),Object(F.jsx)(x.a,{path:"/login",component:L}),Object(F.jsx)(x.a,{path:"/forget",component:ct}),Object(F.jsx)(x.a,{path:"/signin",component:ut}),Object(F.jsx)(x.a,{path:"/admin",component:st}),Object(F.jsx)(x.a,{path:"/home",component:st}),Object(F.jsx)(x.a,{path:"/notification",component:st}),Object(F.jsx)(x.a,{path:"/passwordchange",component:st}),Object(F.jsx)(x.a,{path:"/form",component:st}),Object(F.jsx)(x.a,{path:"/mymovie",component:st}),Object(F.jsx)(x.a,{path:"/request",component:st})]})})}}]),a}(h.a.Component),mt=a(41),jt=a(258),ht=a(10),pt=a(508),bt=a(83),ft=a(129),vt=a(505),Ot="auth_token",gt=new pt.a({uri:"http://193.164.132.55:3001/graphql"}),xt=new bt.a((function(e,t){var a=localStorage.getItem(Ot);return e.setContext({headers:{Authorization:a?"Bearer ".concat(a):""}}),t(e)})).concat(gt),yt=new jt.a({uri:"WSS://3.141.17.227:3001",options:{reconnect:!0,connectionParams:{Authorization:"Bearer ".concat(localStorage.getItem(Ot))}}}),wt=Object(bt.d)((function(e){var t=e.query,a=Object(ht.l)(t),n=a.kind,i=a.operation;return"OperationDefinition"===n&&"subscription"===i}),yt,xt),Nt=new ft.a({link:bt.a.from([wt]),cache:new vt.a,connectToDevTools:!0}),It=function(e){return Object(F.jsx)(mt.b,{client:Nt,children:e.children})},St=h.a.createContext({user:{},setAuth:function(){return null}}),Ct="POST",kt="auth_token",Tt={},Mt="GET",_t="auth_token",Pt=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={user:{},isRefreshed:!1},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.refreshAPI()}},{key:"refreshAPI",value:function(){var e=this;localStorage.getItem(_t)?function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!e&&!t)return Promise.reject({message:"URL and HTTP Method is not mentioned."});if(e){var s=new RegExp(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi);if(!e.match(s))return Promise.reject({message:"Malformed URL, Please check"})}if(t&&t===Ct&&!a)return Promise.reject({message:"POST method must contain Request Body."});if(!navigator.onLine)return Promise.reject({message:"Unable to connect with Internet!"});var r=n;return i&&(r=Object(z.a)(Object(z.a)({},n),{},{Authorization:kt})),Le()({method:t,url:e,data:a,headers:r})}("".concat(Tt.api_url,"/auth/refresh"),Mt,null,null,!0).then((function(t){var a;a=t.data.auth_token,localStorage.setItem(_t,a),e.setState({user:t.data.user,isRefreshed:!0})})).catch((function(t){localStorage.removeItem(_t),e.setState({isRefreshed:!0})})):this.setState({isRefreshed:!0})}},{key:"render",value:function(){return Object(F.jsx)(F.Fragment,{children:this.state.isRefreshed?Object(F.jsx)(St.Provider,{value:{user:this.state.user,setAuth:this.setState},children:this.props.children}):Object(F.jsx)(F.Fragment,{children:"Your Loader Here..."})})}}]),a}(h.a.Component),Dt=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return Object(F.jsx)("div",{className:"warpper",children:Object(F.jsx)(Pt,{children:Object(F.jsx)(It,{children:Object(F.jsx)(dt,{})})})})}}]),a}(j.Component);a(488),a(489),a(490);p.render(Object(F.jsx)(Dt,{}),document.getElementById("root"))}},[[491,1,2]]]);
//# sourceMappingURL=main.72d5bf91.chunk.js.map