(this["webpackJsonpmy-idea"]=this["webpackJsonpmy-idea"]||[]).push([[0],{197:function(e,t,a){},389:function(e,t,a){},418:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},441:function(e,t,a){},442:function(e,t,a){},446:function(e,t,a){},457:function(e,t,a){},458:function(e,t,a){},459:function(e,t,a){},460:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){"use strict";a.r(t);var n,i,s,r,o,c,l,u=a(0),d=a.n(u),m=a(44),j=(a(272),a(37)),h=a(38),p=a(40),b=a(39),f=a(254),v=a(53),O=a(21),g=a.n(O),x=a(45),y=a(61),w=a(500),N=a(265),I=a(126),S=a(88),C=a(499),k=a(260),M=a(504),T=a(58),_=a(508),P=a(509),D=(a(197),a(2)),q=w.a.Title,Y=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).setInputValue=function(e,t){n.setState(Object(y.a)({},e,t))},n.handleSubmit=Object(x.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,N.b.loading("Login In....",5);case 3:fetch("http://193.164.132.55:3001/api/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:n.state.username,password:n.state.password})}).then((function(e){return e.json()})).then((function(e){if("valid  user"===e.info||"email send successfully"===e.info){var t,a,i;if(localStorage.setItem("user_id_login",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id),localStorage.setItem("user_name",n.state.username),1===(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.role_id))localStorage.setItem("admin",null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.role_id);window.location.pathname="/signin"}else N.b.error("Faild to login",5)})).catch((function(e){N.b.error("Faild to login",5),console.log(e,5)}));case 4:case"end":return e.stop()}}),e)}))),n.state={username:"",password:""},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){localStorage.clear()}},{key:"render",value:function(){var e=this,t=this.state.username;return Object(D.jsx)("div",{className:"main-login",children:Object(D.jsxs)(I.a,{style:{height:"100%"},children:[Object(D.jsx)(S.a,{md:{span:24},lg:{span:12},className:"f-col",children:Object(D.jsx)("div",{className:"main",children:Object(D.jsxs)(C.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(D.jsx)(k.a,{size:54,src:"assets/TITLES (2).png",className:"avatar"}),Object(D.jsx)(q,{level:3,className:"title",children:"Sign In"}),Object(D.jsx)(C.a.Item,{name:"username",rules:[{required:!0,message:"Please enter your username!"}],children:Object(D.jsx)(M.a,{autoFocus:!0,autoComplete:"off",className:"Input",onChange:function(t){return e.setInputValue("username",t.target.value)},prefix:Object(D.jsx)(_.a,{className:"site-form-item-icon"}),value:t,placeholder:"user id / mail"})}),Object(D.jsx)(C.a.Item,{style:{margin:0}}),Object(D.jsx)(C.a.Item,{children:Object(D.jsxs)(T.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:["Submit ",Object(D.jsx)(P.a,{className:"loginIcon"})]})})]})})}),Object(D.jsxs)(S.a,{span:12,className:"s-col",children:[Object(D.jsx)("div",{className:"circle-ripple"}),Object(D.jsx)("img",{style:{width:"100%",height:"100%"},alt:"img",src:"https://s3-eu-central-1.amazonaws.com/centaur-wp/marketingweek/prod/content/uploads/2020/05/20125057/shutterstock_586719869-750x500.jpg"})]})]})})}}]),a}(u.Component),F=a(34),A={admin:"/admin",Login:"/login",forget:"/forget",HomeCom:"/home",signIn:"/signin",form:"/form",mymovie:"/mymovie",notification:"/notification",passwordchange:"/passwordchange",request:"/request"},z=a(266),L=a(502),B=a(497),R=a(495),U=a(262),$=a(505),V=a(171),E=a(92),H=(a(389),a(64)),Z=a.n(H),J=a(510),Q=a(105),K=a(106),W=a.n(K),G=W()(n||(n=Object(Q.a)(["query MyQuery {\n  allMovieTitles (filter: {isPurchase: {equalTo: false}}){\n    nodes {\n      nodeId\n      createdBy\n      createdAt\n      description\n      id\n      isActive\n      isPurchase\n      movieImage\n      name\n      price\n      updatedAt\n      updatedBy\n    }\n  }\n}"]))),X=function(e){return W()(s||(s=Object(Q.a)(['query MyQuery {\n  allMovieTitles(filter: {createdBy: {equalTo: "','"}, isPurchase: {equalTo: true}}) {\n    nodes {\n      name\n      id\n      description\n      createdAt\n      price\n      movieImage\n      isPurchase\n    }\n  }\n}\n'])),e)},ee=W()(r||(r=Object(Q.a)(["query MyQuery {\n  allMovieTitles (filter: {isPurchase: {equalTo: true}}){\n    nodes {\n    name\n    id\n    createdAt\n    price\n    movieImage\n    description\n    isPurchase\n    }\n  }\n}"]))),te=function(e){return W()(o||(o=Object(Q.a)(['query MyQuery {\n    userProfileById(id: "','") {\n      id\n      email\n      createdAt\n      birthday\n      firstName\n      lastName\n      mobileNo\n      profileImg\n    }\n  }\n  '])),e)},ae=function(e,t,a,n,i,s,r){return W()(c||(c=Object(Q.a)(['mutation {\n      createMovieTitle(\n        input: {\n          movieTitle: {\n            name: "','"\n            price: "','"\n            description: "','"\n            movieImage: "','"\n            id: "','"\n            isPurchase: false\n            updatedBy: "','"\n            createdBy: "','"\n            createdAt: "','"\n            updatedAt: "','"\n            isActive: true\n          }\n        }\n      ) {\n        clientMutationId\n      }\n    }\n    '])),e,t,a,n,i,s,s,r,r)},ne=function(e,t,a,n,i,s,r){return W()(l||(l=Object(Q.a)(['mutation {\n    updateUserProfileById(\n      input: {\n        userProfilePatch: {\n          birthday: "','"\n          email: "','"\n          firstName: "','"\n          lastName: "','"\n          mobileNo: "','"\n          profileImg: "','"\n        }\n        id: "','"\n      }\n    ) {\n      clientMutationId\n    }\n  }\n    '])),i,a,e,t,n,s,r)},ie=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(x.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.client.query({query:te(localStorage.getItem("user_id"))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.userProfileById;n.setState({firstName:null===a||void 0===a?void 0:a.firstName,lastName:null===a||void 0===a?void 0:a.lastName,mobile_no:null===a||void 0===a?void 0:a.mobileNo,birthday:Z()(null===a||void 0===a?void 0:a.birthday).format("YYYY-MM-DD"),email:null===a||void 0===a?void 0:a.email,fileList:[{uid:"-1",status:"done",url:null===a||void 0===a?void 0:a.profileImg}],id:null===a||void 0===a?void 0:a.id,movieImage:null===a||void 0===a?void 0:a.profileImg})}})).catch((function(e){console.log("err:",e)})),n.props.client.query({query:localStorage.getItem("admin")?ee:X(localStorage.getItem("user_id"))}).then((function(e){var t,a;(null===e||void 0===e?void 0:e.data)&&n.setState({listdata:null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes})})).catch((function(e){console.log("err:",e)}));case 2:case"end":return e.stop()}}),e)}))),n.logout=function(){localStorage.clear(),n.props.history.push("/login")},n.handleopen=function(){var e=n.state;n.setState({open:!e.open})},n.handlechange=function(e,t){var a=n.state;n.setState(Object(F.a)(Object(F.a)({},a),{},Object(y.a)({},e,t)))},n.getBase64=function(e,t){var a=new FileReader;return a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},n.handleChange=function(e){e.file.originFileObj&&n.getBase64(e.file.originFileObj,(function(t){n.setState({fileList:[{uid:"-1",name:e.file.name,status:"done",url:t}],movieImage:t})}))},n.handleSubmit=Object(x.a)(g.a.mark((function e(){var t,a,i,s,r,o,c,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.firstName,i=t.lastName,s=t.email,r=t.mobile_no,o=t.birthday,c=t.movieImage,l=t.id,c){e.next=4;break}return N.b.error("Please upload the movie image",5),e.abrupt("return",!1);case 4:return e.next=6,N.b.loading("Loading....",5);case 6:n.props.client.mutate({variables:{},mutation:ne(a,i,s,r,Z()(o).format("YYYY-MM-DD"),c,l)}).then((function(e){z.a.success({message:"Success",description:"Your profile has been updated!"}),console.log("res:",e)})).catch((function(e){N.b.error(e,5)}));case 7:case"end":return e.stop()}}),e)}))),n.state={open:!1,firstName:null,lastName:null,email:null,mobile_no:null,birthday:null,fileList:[],movieImage:null,id:null,listdata:[]},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.firstName,i=t.lastName,s=t.email,r=t.mobile_no,o=t.birthday,c=t.fileList,l=t.listdata,u=window.location.pathname;return Object(D.jsxs)("div",{className:"headermain",children:[Object(D.jsx)(L.a,{title:"Profile Details",placement:"right",onClose:function(){return e.handleopen()},visible:a,width:310,children:Object(D.jsxs)("div",{style:{textAlign:"center"},children:[Object(D.jsx)(B.a,{onChange:function(t){return e.handleChange(t)},action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:c,multiple:!1,listType:"picture-card",onRemove:function(){return e.setState({fileList:[],movieImage:null})},children:"Image Upload"}),Object(D.jsxs)(C.a,{name:"normal_login",onFinish:function(){return e.handleSubmit()},children:[Object(D.jsx)("br",{}),Object(D.jsx)(M.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:n,size:"large",onChange:function(t){return e.handlechange("firstName",t.target.value)},placeholder:"FirstName",required:!0}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)(M.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:i,size:"large",required:!0,onChange:function(t){return e.handlechange("lastName",t.target.value)},placeholder:"LastName"}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)(M.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:s,size:"large",onChange:function(t){return e.handlechange("email",t.target.value)},placeholder:"email",required:!0}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)(M.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:r,size:"large",onChange:function(t){return e.handlechange("mobile_no",t.target.value)},placeholder:"mobile_no",required:!0}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)(M.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:Z()(o).format("YYYY-MM-DD"),size:"large",onChange:function(t){return e.handlechange("birthday",t.target.value)},placeholder:"birthday",required:!0}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)(T.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Update"})]})]})}),Object(D.jsx)(R.a,{ghost:!1,title:Object(D.jsxs)(U.a,{separator:!1,className:"Breadcrumb",children:[Object(D.jsx)(U.a.Item,{className:"home",children:Object(D.jsx)("img",{className:"imgss",alt:"img",style:{position:"absolute",marginTop:-8},src:"assets/TITLES (2).png",onClick:function(){return window.location.href="/home"}})}),Object(D.jsxs)("div",{className:"center_of",children:[Object(D.jsx)(U.a.Item,{className:"home ".concat("/home"===u&&"active"),onClick:function(){return window.location.href="/home"},children:"Home"}),Object(D.jsx)(U.a.Item,{className:"home mb sv ".concat("/mymovie"===u&&"active"),onClick:function(){return window.location.href="/mymovie"},children:localStorage.getItem("admin")?"Data's":" My movies"}),Object(D.jsx)(U.a.Item,{className:"home mb lg ".concat("/notification"===u&&"active"),onClick:function(){return window.location.href="/notification"},children:Object(D.jsx)($.a,{size:"small",count:0===(null===l||void 0===l?void 0:l.length)?"0,":null===l||void 0===l?void 0:l.length,style:{backgroundColor:"#52c41a",color:"#fff"},children:"Notification"})}),localStorage.getItem("admin")&&Object(D.jsx)(U.a.Item,{className:"home mb sv ".concat("/request"===u&&"active"),onClick:function(){return window.location.href="/request"},children:"Request"})]})]}),extra:[Object(D.jsx)(V.a,{arrow:!0,placement:"bottomCenter",overlay:Object(D.jsxs)(E.a,{className:"menulist_item",children:[Object(D.jsx)(E.a.Item,{className:"menulist_item",onClick:function(){return e.handleopen()},children:"Profile"}),Object(D.jsx)(E.a.Item,{className:"menulist_item",onClick:function(){return e.logout()},children:"Logout"}),Object(D.jsx)(E.a.Item,{className:"menulist_item hinmbl",onClick:function(){return window.location.href="/notification"},children:localStorage.getItem("admin")?"Data's":" My movies"}),Object(D.jsx)(E.a.Item,{className:"menulist_item hinmbl",onClick:function(){return window.location.href="/mymovie"},children:"Notification"}),localStorage.getItem("admin")&&Object(D.jsx)(E.a.Item,{className:"menulist_item hinmbl",onClick:function(){return window.location.href="/request"},children:"Request"})]}),children:Object(D.jsx)("span",{style:{cursor:"pointer"},children:"More\u25be"})})]})]})}}]),a}(d.a.Component),se=Object(J.a)(ie),re=a(141),oe=a(172),ce=a(96),le=(a(418),a(242)),ue=a.n(le),de=(a(433),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(D.jsx)("div",{className:"main_carousel",children:Object(D.jsx)(ue.a,Object(F.a)(Object(F.a)({className:"sliders"},{dots:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,speed:1e3,autoplaySpeed:2e3,arrows:!1}),{},{children:["https://moviegalleri.net/wp-content/gallery/sultan-images/Sultan-Movie-Images-HD-Karthi-Rashmika-Mandanna-35c2f2c.jpg","https://moviegalleri.net/wp-content/gallery/master-hd-images/Master-Movie-HD-Images-Vijay-Sethupathi-Malavika-Mohanan-814b98d.jpg","https://moviegalleri.net/wp-content/gallery/karnan-images-hd/Dhanush-Karnan-Movie-Images-HD-Photos-Pics-6d71a1a.jpg"].map((function(e){return Object(D.jsx)("div",{className:"sliders",children:Object(D.jsx)("img",{src:e,alt:"img"})})}))}))})}}]),a}(u.Component)),me=a(501),je=(a(434),function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.children,n=e.onOk,i=e.onCancel,s=e.okTextTitle,r=e.titleText,o=e.footer;return Object(D.jsx)(me.a,{className:"modal-of-com",title:r&&r,style:{top:20},visible:t&&t,onOk:function(){return n&&n()},onCancel:function(){return i&&i()},okText:s&&s,footer:o&&o,children:a})}}]),a}(d.a.Component)),he=(a(435),a(498)),pe=he.a.Meta,be=w.a.Title,fe=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).handleModal=function(e){var t=n.state;n.setState(Object(F.a)(Object(F.a)({},t),{},{open:!t.open,show_data:e}))},n.state={open:!1,show_data:null},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.show_data,i=this.props.listdata;return Object(D.jsxs)("div",{className:"linelist_main",children:[Object(D.jsx)(je,{open:a,onCancel:function(){return e.handleModal()},okText:!1,children:Object(D.jsxs)(I.a,{gutter:16,children:[Object(D.jsx)(S.a,{xs:{span:24},sm:{span:12},children:Object(D.jsx)("img",{style:{width:"100%"},alt:"img",src:null===n||void 0===n?void 0:n.img})}),Object(D.jsxs)(S.a,{xs:{span:24},sm:{span:12},children:[Object(D.jsxs)(be,{level:5,className:"modal_title",children:[Object(D.jsx)("label",{children:"Name :"}),null===n||void 0===n?void 0:n.name]}),Object(D.jsxs)(be,{level:5,className:"modal_title",children:[Object(D.jsx)("label",{children:"Registered date :"})," ",null===n||void 0===n?void 0:n.registered_date]})]}),Object(D.jsxs)(be,{level:5,className:"modal_title_dis",children:[Object(D.jsx)("label",{children:"Short description of movie :"})," ",null===n||void 0===n?void 0:n.dis]})]})}),Object(D.jsx)(I.a,{gutter:16,children:null===i||void 0===i?void 0:i.map((function(t){return Object(D.jsx)(S.a,{xs:{span:24},sm:{span:12},md:{span:6},children:Object(D.jsx)(he.a,{onClick:function(){return e.handleModal(t)},hoverable:!0,cover:Object(D.jsx)("img",{alt:"example",src:null===t||void 0===t?void 0:t.img}),children:Object(D.jsx)(pe,{title:null===t||void 0===t?void 0:t.name})})})}))})]})}}]),a}(d.a.Component),ve=w.a.Title,Oe=w.a.Text,ge=M.a.Search,xe=re.a.Option,ye=M.a.TextArea,we=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(x.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),2e3);case 2:n.props.client.query({query:localStorage.getItem("admin")?ee:X(localStorage.getItem("user_id"))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i,s=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a||null===(i=a.nodes)||void 0===i?void 0:i.filter((function(e){return e.registered_date=Z()(null===e||void 0===e?void 0:e.createdAt).format("DD/MM/YYYY"),e.img=null===e||void 0===e?void 0:e.movieImage,e.dis=null===e||void 0===e?void 0:e.description,e}));n.setState({listdata:s})}})).catch((function(e){console.log("err:",e)}));case 3:case"end":return e.stop()}}),e)}))),n.handleSubmit=function(){var e=Object(x.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("token")){e.next=6;break}return e.next=3,N.b.info("Please sign in to continue...",5);case 3:n.props.history.push("/login"),e.next=7;break;case 6:n.setState(Object(F.a)(Object(F.a)({},n.state),{},{searchdata:t}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChanges=function(e){n.setState(Object(F.a)(Object(F.a)({},n.state),{},{searchdata:e}))},n.handleopn=function(){var e=n.state;n.setState(Object(F.a)(Object(F.a)({},e),{},{open:!e.open}))},n.onChange=function(e){var t=n.state;n.setState(Object(F.a)(Object(F.a)({},t),{},{selectdata:e}))},n.handleselectopen=function(){var e=n.state;n.setState(Object(F.a)(Object(F.a)({},e),{},{selectopen:!e.selectopen}))},n.handlerequest=Object(x.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,n.setState(Object(F.a)(Object(F.a)({},t),{},{selectopen:!t.selectopen})),e.next=4,N.b.success("Your request has been sended successfully they will get you soon...!",5);case 4:n.props.history.push("/admin");case 5:case"end":return e.stop()}}),e)}))),n.state={open:!1,searchdata:"",selectdata:"",selectopen:!1,listdata:[],loader:!0},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.searchdata,i=t.listdata,s=t.selectopen,r=t.loader,o=null===i||void 0===i?void 0:i.filter((function(e){var t;return e.name?null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(n.toLowerCase()):e}));return Object(D.jsxs)("div",{className:"drivermain",children:[r&&Object(D.jsx)("div",{className:"loader",children:Object(D.jsx)(oe.a,{size:"large"})}),!r&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(je,{open:a,onCancel:function(){return e.handleopn()},okText:!1,children:"I'll explain to Soon !"}),Object(D.jsx)(de,{}),Object(D.jsxs)("div",{className:"search",children:[Object(D.jsx)(ve,{level:4,className:"title",children:"Title Search"}),Object(D.jsx)(ge,{className:"search_field",placeholder:"Search title...",enterButton:"Search",size:"large",value:n,onChange:function(t){return e.handleChanges(t.target.value)},onSearch:function(t){e.handleSubmit(t)}}),Object(D.jsx)(Oe,{className:"guidline",onClick:function(){return e.handleopn()},children:"How to use this"}),n&&Object(D.jsx)(fe,{searchdata:n,listdata:o}),n&&!(null===o||void 0===o?void 0:o.length)>0&&Object(D.jsxs)("div",{children:[Object(D.jsx)(ce.a,{}),Object(D.jsx)(T.a,{className:"pay_btn",onClick:function(){return e.props.history.push("/form")},children:"Buy Now"})," "]}),Object(D.jsxs)(je,{open:s,onCancel:function(){return e.handleselectopen()},okText:!1,children:[Object(D.jsxs)(re.a,{showSearch:!0,style:{width:"100%",margin:"20px 0px"},placeholder:"Choose your plan",onChange:this.onChange,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:[Object(D.jsx)(xe,{value:"price $100 (1 year of validity)",children:"price $100 (1 year of validity)"}),Object(D.jsx)(xe,{value:"price $500 (5 year of validity)",children:"price $500 (5 year of validity)"}),Object(D.jsx)(xe,{value:"price $1000 (10 year of validity)",children:"price $1000 (10 year of validity)"})]}),Object(D.jsx)(ye,{rows:4,placeholder:"Description"}),Object(D.jsx)("br",{}),Object(D.jsx)(T.a,{className:"continue_pay_btn",onClick:function(){return e.handlerequest()},children:"Continue to Buy Now"})," "]})]})]})]})}}]),a}(d.a.Component),Ne=Object(J.a)(we),Ie=(a(441),M.a.TextArea),Se=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(D.jsx)("div",{className:"main_admin",children:Object(D.jsxs)(I.a,{gutter:16,children:[Object(D.jsx)(S.a,{xs:{span:24},sm:{span:12},children:Object(D.jsx)(M.a,{placeholder:"name",value:"Black Panther",style:{width:"100%"},suffix:"name"})}),Object(D.jsx)(S.a,{xs:{span:24},sm:{span:12},children:Object(D.jsx)(M.a,{placeholder:"name",value:"American superhero",style:{width:"100%"},suffix:"Registered Name"})}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)(S.a,{xs:{span:24},sm:{span:12},children:Object(D.jsx)(M.a,{placeholder:"name",value:"21/01/2021",style:{width:"100%"},suffix:"Registered Date"})}),Object(D.jsx)(S.a,{xs:{span:24},sm:{span:12},children:Object(D.jsx)(Ie,{placeholder:"name",rows:4,value:"Black Panther is a 2018 American superhero film based on the Marvel Comics character of the same name. Produced by Marvel Studios and distributed by Walt Disney Studios Motion Pictures, it is the 18th film in the Marvel Cinematic Universe (MCU).",style:{width:"100%"},suffix:"Description"})}),Object(D.jsx)(T.a,{className:"continue_submit_btn",children:"Submit"})]})})}}]),a}(u.Component),Ce=(a(442),a(246)),ke=w.a.Title,Me=re.a.Option,Te=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(x.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),2e3);case 2:n.props.client.query({query:te(localStorage.getItem("user_id"))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.userProfileById;n.setState({name:(null===a||void 0===a?void 0:a.firstName)+" "+(null===a||void 0===a?void 0:a.lastName),mobile_no:null===a||void 0===a?void 0:a.mobileNo,birthday:Z()(null===a||void 0===a?void 0:a.birthday).format("YYYY-MM-DD"),email:null===a||void 0===a?void 0:a.email})}})).catch((function(e){N.b.error("Faild to fetch data",5)}));case 3:case"end":return e.stop()}}),e)}))),n.setInputValue=function(e,t){n.setState(Object(y.a)({},e,t))},n.onChange=function(e){var t=n.state;n.setState(Object(F.a)(Object(F.a)({},t),{},{validity:e}))},n.handleSubmit=Object(x.a)(g.a.mark((function e(){var t,a,i,s,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.moviename,i=t.description,s=t.validity,r=t.movieImage){e.next=4;break}return N.b.error("Please upload the movie image",5),e.abrupt("return",!1);case 4:return o={"price $100 (1 year of validity)":"100","price $500 (5 year of validity)":"500","price $1000 (10 year of validity)":"1000"},e.next=7,N.b.loading("Loading....",5);case 7:n.props.client.mutate({mutation:ae(a,o[s],i,r,Object(Ce.uuid)(),localStorage.getItem("user_id"),Z()(new Date).format("YYYY-MM-DD"))}).then((function(e){console.log(e),z.a.success({message:"Success",description:"Your details has been successful!"}),n.setState(Object(F.a)({},n.state)),window.location.href="/home"})).catch((function(e){N.b.error("Faild to fetch data",5)}));case 8:case"end":return e.stop()}}),e)}))),n.getBase64=function(e,t){var a=new FileReader;return a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},n.handleChange=function(e){e.file.originFileObj&&n.getBase64(e.file.originFileObj,(function(t){n.setState({fileList:[{uid:"-1",name:e.file.name,status:"done",url:t}],movieImage:t})}))},n.state={name:null,mobile_no:null,email:null,birthday:null,moviename:null,validity:null,description:null,movieImage:null,fileList:[],loader:!0},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.mobile_no,i=t.email,s=t.birthday,r=t.moviename,o=t.validity,c=t.description,l=t.fileList,u=t.loader;return Object(D.jsxs)("div",{className:"main-form",children:[Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),u&&Object(D.jsx)("div",{className:"loader",children:Object(D.jsx)(oe.a,{size:"large"})}),!u&&Object(D.jsxs)(D.Fragment,{children:[" ",Object(D.jsx)(he.a,{title:"Personal Details",className:"cards",children:Object(D.jsxs)(I.a,{gutter:16,children:[Object(D.jsxs)(S.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(D.jsx)(ke,{level:5,className:"titles",children:"User Name"}),Object(D.jsx)(M.a,{style:{width:"96%"},placeholder:"User Name",className:"filed",disabled:!0,value:a,size:"large"})]}),Object(D.jsxs)(S.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(D.jsx)(ke,{level:5,className:"titles",children:"Date of birth"}),Object(D.jsx)(M.a,{style:{width:"96%"},placeholder:"Please input",className:"filed",disabled:!0,size:"large",value:s})]}),Object(D.jsxs)(S.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(D.jsx)(ke,{level:5,className:"titles",children:"Email"}),Object(D.jsx)(M.a,{style:{width:"96%"},placeholder:"Please input",className:"filed",disabled:!0,size:"large",value:i})]}),Object(D.jsxs)(S.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(D.jsx)(ke,{level:5,className:"titles",children:"Mobile Number"}),Object(D.jsx)(M.a,{style:{width:"96%"},placeholder:"Please input",className:"filed",disabled:!0,size:"large",value:n})]})]})}),Object(D.jsx)(he.a,{title:"Movie Details",className:"cards",children:Object(D.jsxs)(C.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(D.jsxs)(I.a,{gutter:16,children:[Object(D.jsxs)(S.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(D.jsx)(ke,{level:5,className:"titles",children:"Movie Image"}),Object(D.jsx)(B.a,{onChange:function(t){return e.handleChange(t)},action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:l,multiple:!1,listType:"picture-card",onRemove:function(){return e.setState({fileList:[],movieImage:null})},children:"+ Upload"})]}),Object(D.jsxs)(S.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(D.jsx)(ke,{level:5,className:"titles",children:"Movie Name"}),Object(D.jsx)(C.a.Item,{name:"moviename",rules:[{required:!0,message:"Please enter your movie name!"}],children:Object(D.jsx)(M.a,{autoFocus:!0,style:{width:"96%"},autoComplete:"off",className:"Input",onChange:function(t){return e.setInputValue("moviename",t.target.value)},size:"large",value:r,placeholder:"Movie Name"})})]}),Object(D.jsxs)(S.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(D.jsx)(ke,{level:5,className:"titles",children:"Choose your plan"}),Object(D.jsx)(C.a.Item,{name:"validity",rules:[{required:!0,message:"Please select your validity!"}],children:Object(D.jsxs)(re.a,{showSearch:!0,allowClear:!0,style:{width:"96%"},placeholder:"Choose yor plan",size:"large",onChange:this.onChange,value:o,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:[Object(D.jsx)(Me,{value:"price $100 (1 year of validity)",children:"price $100 (1 year of validity)"}),Object(D.jsx)(Me,{value:"price $500 (5 year of validity)",children:"price $500 (5 year of validity)"}),Object(D.jsx)(Me,{value:"price $1000 (10 year of validity)",children:"price $1000 (10 year of validity)"})]})})]}),Object(D.jsxs)(S.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(D.jsx)(ke,{level:5,className:"titles",children:"Enter your description"}),Object(D.jsx)(C.a.Item,{name:"description",rules:[{required:!0,message:"Please enter your description!"}],children:Object(D.jsx)(M.a.TextArea,{style:{width:"96%"},onChange:function(t){return e.setInputValue("description",t.target.value)},value:c})})]})]}),Object(D.jsx)(T.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Proceed to Buynow"})]})})]})]})}}]),a}(u.Component),_e=Object(J.a)(Te),Pe=a(261),De=a(507),qe=a(496),Ye=(a(446),a(511)),Fe=w.a.Title,Ae=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(x.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),2e3);case 2:n.props.client.query({query:localStorage.getItem("admin")?ee:X(localStorage.getItem("user_id"))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes;n.setState({listdata:i})}})).catch((function(e){console.log("err:",e)}));case 3:case"end":return e.stop()}}),e)}))),n.readFileContents=function(){var e=Object(x.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=new FileReader;n.onload=function(t){e(n.result.split(/[\r\n]+/g))},n.onerror=a,n.readAsText(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAllFiles=function(){var e=Object(x.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(x.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.readFileContents(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return a=e.sent,console.log(a),e.abrupt("return",n.setState({data:t}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleUpload=function(){var e=Object(x.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],Object(Pe.a)(t.target.files).map((function(e){return a.push(e)})),e.next=4,n.readAllFiles(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveData=Object(x.a)(g.a.mark((function e(){var t,a,i,s,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.state,!(!(null===(t=i.data)||void 0===t?void 0:t.length)>0)){e.next=4;break}return N.b.error("Please upload the movie file",5),e.abrupt("return");case 4:return s=[],r=null===(a=n.state.data)||void 0===a?void 0:a.map((function(e){return s.push({lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.size,webkitRelativePath:e.size}),e})),console.log(r),e.next=9,N.b.loading("uploading....",5);case 9:fetch("http://193.164.132.55:3001/api/bulk_upload_user",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({file:s})}).then((function(e){return e.json()})).then((function(e){!0!==e.error?(z.a.success({message:"Success",description:"Your file uplaod has been successful!"}),window.location.reload()):N.b.error("Faild to uplaod",5)})).catch((function(e){N.b.error("Faild to uplaod",5),console.log(e,5)}));case 10:case"end":return e.stop()}}),e)}))),n.state={loader:!0,listdata:[],data:[]},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loader,n=t.listdata,i=t.data;return Object(D.jsxs)("div",{children:[a&&Object(D.jsx)("div",{className:"loader",children:Object(D.jsx)(oe.a,{size:"large"})}),!a&&Object(D.jsxs)("div",{className:"mymovie_main",children:[Object(D.jsx)(Fe,{level:5,className:"m_title",children:localStorage.getItem("admin")?"Data's":"Your Movies"}),localStorage.getItem("admin")&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"drap",children:Object(D.jsxs)("div",{className:"root",children:[Object(D.jsx)("input",{type:"file",multiple:!0,onChange:function(t){return e.handleUpload(t)},disabled:this.props.disabled,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),Object(D.jsx)(Ye.a,{className:"icons"}),Object(D.jsx)("p",{className:"testupload",children:"Drag & Drop your files here"}),Object(D.jsx)("p",{className:"testupload",children:"OR"}),Object(D.jsx)(T.a,{className:"submit",style:{textTransform:"capitalize",padding:"8px 22px",fontSize:13},children:"Browse Files"})]})}),Object(D.jsx)("br",{}),Object(D.jsx)(T.a,{type:"primary",className:"adddatas",onClick:function(){return e.saveData()},children:"Submit"}),Object(D.jsx)("br",{})]}),(null===i||void 0===i?void 0:i.length)>0&&Object(D.jsx)(De.b,{header:Object(D.jsx)("div",{children:"Files"}),bordered:!0,dataSource:null===i||void 0===i?void 0:i.map((function(e){return null===e||void 0===e?void 0:e.name})),renderItem:function(e,t){return Object(D.jsxs)(De.b.Item,{children:[Object(D.jsx)(w.a.Text,{mark:!0,children:t})," ",e]})}}),0===(null===n||void 0===n?void 0:n.length)&&Object(D.jsx)(ce.a,{}),!localStorage.getItem("admin")&&(null===n||void 0===n?void 0:n.map((function(e){return Object(D.jsxs)(De.b.Item,{className:"cards",children:[Object(D.jsx)(De.b.Item.Meta,{avatar:Object(D.jsx)(k.a,{src:null===e||void 0===e?void 0:e.movieImage}),title:(null===e||void 0===e?void 0:e.name)+" "+Z()(null===e||void 0===e?void 0:e.birthday).format("YYYY-MM-DD")+" to "+Z()(null===e||void 0===e?void 0:e.birthday).format("YYYY-MM-DD"),description:null===e||void 0===e?void 0:e.description}),Object(D.jsx)("div",{className:"dis",children:Object(D.jsx)(T.a,{type:"primary",danger:!0,children:"Proceed to extend validity"})})]})}))),localStorage.getItem("admin")&&Object(D.jsx)("div",{children:Object(D.jsx)(qe.a,{dataSource:n,columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Description",dataIndex:"description",key:"description"},{title:"CreatedAt",dataIndex:"createdAt",key:"createdAt"}]})})]})]})}}]),a}(u.Component),ze=Object(J.a)(Ae),Le=a(512),Be=(a(457),w.a.Title),Re=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).setInputValue=function(e,t){n.setState(Object(y.a)({},e,t))},n.handleSubmit=Object(x.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.loading("Loding...",5);case 2:fetch("http://3.141.17.227:3001/api/new_password",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:n.state.password,otp:n.state.otp,id:localStorage.getItem("forget_id")})}).then((function(e){return e.json()})).then((function(e){"password change successfully"===e.info?(z.a.success({message:"Success",description:"Your password change successfully!"}),n.props.history.push("/login")):N.b.error("Faild",5)})).catch((function(e){N.b.error(e,5)}));case 3:case"end":return e.stop()}}),e)}))),n.state={password:null,otp:null},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.otp,n=t.password;return Object(D.jsx)("div",{className:"passwordchange",children:Object(D.jsxs)(I.a,{className:"workspacelog",children:[Object(D.jsx)(Be,{level:5,className:"dis_title",children:"Forget password"}),Object(D.jsxs)(C.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(D.jsx)(C.a.Item,{name:"otp",rules:[{required:!0,message:"Please enter your otp!"}],children:Object(D.jsx)(M.a,{size:"large",autoFocus:!0,autoComplete:"off",className:"Input",value:a,placeholder:"Please enter OTP",onChange:function(t){return e.setInputValue("otp",t.target.value)}})}),Object(D.jsx)(C.a.Item,{name:"password",rules:[{required:!0,message:"Please enter your password!"}],children:Object(D.jsx)(M.a.Password,{size:"large",autoFocus:!0,autoComplete:"off",className:"Input",value:n,type:"password",placeholder:"Please enter password",onChange:function(t){return e.setInputValue("password",t.target.value)}})}),Object(D.jsxs)(C.a.Item,{children:[Object(D.jsxs)(T.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:["Submit ",Object(D.jsx)(P.a,{className:"loginIcon"})]}),Object(D.jsxs)("span",{className:"login-form-register",children:["Back to your sign in \xa0",Object(D.jsxs)("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return e.props.history.push("/login")},children:["Login ",Object(D.jsx)(Le.a,{})]})," "]})]})]})]})})}}]),a}(u.Component),Ue=(a(458),a(513)),$e=w.a.Title,Ve=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(x.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),2e3);case 2:n.props.client.query({query:localStorage.getItem("admin")?ee:X(localStorage.getItem("user_id"))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes;n.setState({listdata:i})}})).catch((function(e){console.log("err:",e)}));case 3:case"end":return e.stop()}}),e)}))),n.state={loader:!0,listdata:[]},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this.state,t=e.loader,a=e.listdata;return Object(D.jsxs)("div",{children:[t&&Object(D.jsx)("div",{className:"loader",children:Object(D.jsx)(oe.a,{size:"large"})}),!t&&Object(D.jsxs)("div",{className:"notification_main",children:[Object(D.jsx)($e,{level:5,className:"m_title",children:"Your Notifications"}),0===(null===a||void 0===a?void 0:a.length)&&Object(D.jsx)(ce.a,{}),null===a||void 0===a?void 0:a.map((function(e){return Object(D.jsxs)(De.b.Item,{className:"cards",children:[Object(D.jsx)(De.b.Item.Meta,{avatar:Object(D.jsx)(k.a,{src:null===e||void 0===e?void 0:e.movieImage}),title:null===e||void 0===e?void 0:e.name,description:null===e||void 0===e?void 0:e.description}),Object(D.jsxs)("div",{className:"dis",children:[Object(D.jsx)(Ue.a,{})," verified"]})]})}))]})]})}}]),a}(u.Component),Ee=Object(J.a)(Ve),He=(a(459),w.a.Title),Ze=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(x.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),2e3);case 2:n.props.client.query({query:G}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes;n.setState({listdata:i})}})).catch((function(e){console.log("err:",e)}));case 3:case"end":return e.stop()}}),e)}))),n.accpectAll=function(){var e=Object(x.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.client.mutate({mutation:(a=t.id,W()(i||(i=Object(Q.a)(['mutation MyMutation {\n    updateMovieTitleById(\n      input: {\n        id: "','"\n        movieTitlePatch: { isPurchase: true }\n      }\n    ) {\n      clientMutationId\n    }\n  }\n  '])),a))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes;n.setState({listdata:i}),window.location.reload()}})).catch((function(e){console.log("err:",e)}));case 2:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={loader:!0,listdata:[]},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loader,n=t.listdata;return Object(D.jsxs)("div",{children:[a&&Object(D.jsx)("div",{className:"loader",children:Object(D.jsx)(oe.a,{size:"large"})}),!a&&Object(D.jsxs)("div",{className:"request_main",children:[Object(D.jsx)(He,{level:5,className:"m_title",children:"Request's"}),0===(null===n||void 0===n?void 0:n.length)&&Object(D.jsx)(ce.a,{}),null===n||void 0===n?void 0:n.map((function(t){return Object(D.jsxs)(De.b.Item,{className:"cards",children:[Object(D.jsx)(De.b.Item.Meta,{avatar:Object(D.jsx)(k.a,{src:null===t||void 0===t?void 0:t.movieImage}),title:(null===t||void 0===t?void 0:t.name)+" "+Z()(null===t||void 0===t?void 0:t.birthday).format("YYYY-MM-DD")+" to "+Z()(null===t||void 0===t?void 0:t.birthday).format("YYYY-MM-DD"),description:null===t||void 0===t?void 0:t.description}),Object(D.jsxs)("div",{className:"dis",children:[Object(D.jsx)(T.a,{type:"primary",onClick:function(){return e.accpectAll(t)},children:"Accpect"}),"\xa0",Object(D.jsx)(T.a,{type:"primary",danger:!0,children:"Cancel"})]})]})}))]})]})}}]),a}(u.Component),Je=Object(J.a)(Ze),Qe=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).Content=function(){return window.location.pathname===A.request?Object(D.jsx)(Je,Object(F.a)({},n.props)):window.location.pathname===A.passwordchange?Object(D.jsx)(Re,Object(F.a)({},n.props)):window.location.pathname===A.notification?Object(D.jsx)(Ee,Object(F.a)({},n.props)):window.location.pathname===A.mymovie?Object(D.jsx)(ze,Object(F.a)({},n.props)):window.location.pathname===A.form?Object(D.jsx)(_e,Object(F.a)({},n.props)):window.location.pathname===A.admin?Object(D.jsx)(Se,Object(F.a)({},n.props)):window.location.pathname===A.HomeCom?Object(D.jsx)(Ne,Object(F.a)({},n.props)):void 0},n.state={},n}return Object(h.a)(a,[{key:"render",value:function(){return Object(D.jsx)(I.a,{style:{width:"max-content"},children:Object(D.jsxs)(S.a,{children:[" ",Object(D.jsx)(se,Object(F.a)({},this.props)),this.Content()]})})}}]),a}(u.Component),Ke=(a(460),a(514)),We=w.a.Title,Ge=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).handleSubmit=Object(x.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.loading("Loding...",5);case 2:fetch("http://3.141.17.227:3001/api/forget_password",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n.state.email})}).then((function(e){return e.json()})).then((function(e){var t;"email send successfully"===e.info?(z.a.success({message:"Success",description:"Your email sended successful!"}),n.props.history.push("/passwordchange"),localStorage.setItem("forget_id",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id)):N.b.error("Faild",5)})).catch((function(e){N.b.error(e,5)}));case 3:case"end":return e.stop()}}),e)}))),n.setInputValue=function(e,t){n.setState(Object(y.a)({},e,t))},n.state={email:null},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state.email;return Object(D.jsx)("div",{className:"workspace",children:Object(D.jsxs)(I.a,{className:"workspacelog",children:[Object(D.jsx)(We,{level:5,className:"dis_title",children:"Forget password"}),Object(D.jsxs)(C.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(D.jsx)(C.a.Item,{name:"email",rules:[{required:!0,message:"Please enter your mail!"}],children:Object(D.jsx)(M.a,{size:"large",autoFocus:!0,autoComplete:"off",className:"Input",prefix:Object(D.jsx)(Ke.a,{}),value:t,onChange:function(t){return e.setInputValue("email",t.target.value)},placeholder:"example@gmail.com"})}),Object(D.jsxs)(C.a.Item,{children:[Object(D.jsxs)(T.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:["Submit ",Object(D.jsx)(P.a,{className:"loginIcon"})]}),Object(D.jsxs)("span",{className:"login-form-register",children:["Back to your sign in \xa0",Object(D.jsxs)("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return e.props.history.push("/login")},children:["Login ",Object(D.jsx)(Le.a,{})]})," "]})]})]})]})})}}]),a}(u.Component),Xe=w.a.Title,et=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).setInputValue=function(e,t){n.setState(Object(y.a)({},e,t))},n.handleSubmit=Object(x.a)(g.a.mark((function e(){var t,a,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("admin")?"username":"id",i=localStorage.getItem("admin")?"password":"otp",e.next=5,N.b.loading("Login In....",5);case 5:fetch("http://193.164.132.55:3001/api/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify((t={},Object(y.a)(t,a,n.state.username),Object(y.a)(t,i,n.state.password),t))}).then((function(e){return e.json()})).then((function(e){var t;"login sucess"===e.info?(z.a.success({message:"Success",description:"User login has been successful!"}),localStorage.setItem("token",null===e||void 0===e?void 0:e.token),localStorage.setItem("user_id",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id),n.props.history.push("/home")):N.b.error("Faild to login",5)})).catch((function(e){N.b.error("Faild to login",5),console.log(e,5)}));case 6:case"end":return e.stop()}}),e)}))),n.state={username:localStorage.getItem("admin")?localStorage.getItem("user_name"):localStorage.getItem("user_id_login"),password:""},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state.password;return Object(D.jsx)("div",{className:"main-login",children:Object(D.jsxs)(I.a,{style:{height:"100%"},children:[Object(D.jsx)(S.a,{md:{span:24},lg:{span:12},className:"f-col",children:Object(D.jsx)("div",{className:"main",children:Object(D.jsxs)(C.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(D.jsx)(k.a,{size:54,src:"assets/TITLES (2).png",className:"avatar"}),Object(D.jsx)(Xe,{level:3,className:"title",children:"Sign In"}),Object(D.jsx)(C.a.Item,{name:"password",rules:[{required:!0,message:1===localStorage.getItem("admin")?"Please enter your password!":"Please enter your otp!"}],children:Object(D.jsx)(M.a,{autoFocus:!0,autoComplete:"off",className:"Input",onChange:function(t){return e.setInputValue("password",t.target.value)},prefix:Object(D.jsx)(_.a,{className:"site-form-item-icon"}),value:t,placeholder:1===localStorage.getItem("admin")?"please enter password":"please enter otp"})}),Object(D.jsx)(C.a.Item,{style:{margin:0}}),Object(D.jsx)(C.a.Item,{children:Object(D.jsxs)(T.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:["Log in ",Object(D.jsx)(P.a,{className:"loginIcon"})]})})]})})}),Object(D.jsxs)(S.a,{span:12,className:"s-col",children:[Object(D.jsx)("div",{className:"circle-ripple"}),Object(D.jsx)("img",{style:{width:"100%",height:"100%"},alt:"img",src:"https://s3-eu-central-1.amazonaws.com/centaur-wp/marketingweek/prod/content/uploads/2020/05/20125057/shutterstock_586719869-750x500.jpg"})]})]})})}}]),a}(u.Component),tt=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(D.jsx)(f.a,{children:Object(D.jsxs)(v.c,{children:[Object(D.jsx)(v.a,{exact:!0,path:"/",component:Y}),Object(D.jsx)(v.a,{path:"/login",component:Y}),Object(D.jsx)(v.a,{path:"/forget",component:Ge}),Object(D.jsx)(v.a,{path:"/signin",component:et}),Object(D.jsx)(v.a,{path:"/admin",component:Qe}),Object(D.jsx)(v.a,{path:"/home",component:Qe}),Object(D.jsx)(v.a,{path:"/notification",component:Qe}),Object(D.jsx)(v.a,{path:"/passwordchange",component:Qe}),Object(D.jsx)(v.a,{path:"/form",component:Qe}),Object(D.jsx)(v.a,{path:"/mymovie",component:Qe}),Object(D.jsx)(v.a,{path:"/request",component:Qe})]})})}}]),a}(d.a.Component),at=a(41),nt=a(255),it=a(10),st=a(506),rt=a(83),ot=a(127),ct=a(503),lt="auth_token",ut=new st.a({uri:"http://193.164.132.55:3001/graphql"}),dt=new rt.a((function(e,t){var a=localStorage.getItem(lt);return e.setContext({headers:{Authorization:a?"Bearer ".concat(a):""}}),t(e)})).concat(ut),mt=new nt.a({uri:"WSS://3.141.17.227:3001",options:{reconnect:!0,connectionParams:{Authorization:"Bearer ".concat(localStorage.getItem(lt))}}}),jt=Object(rt.d)((function(e){var t=e.query,a=Object(it.l)(t),n=a.kind,i=a.operation;return"OperationDefinition"===n&&"subscription"===i}),mt,dt),ht=new ot.a({link:rt.a.from([jt]),cache:new ct.a,connectToDevTools:!0}),pt=function(e){return Object(D.jsx)(at.b,{client:ht,children:e.children})},bt=d.a.createContext({user:{},setAuth:function(){return null}}),ft=a(256),vt=a.n(ft),Ot="POST",gt="auth_token",xt={},yt="GET",wt="auth_token",Nt=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={user:{},isRefreshed:!1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.refreshAPI()}},{key:"refreshAPI",value:function(){var e=this;localStorage.getItem(wt)?function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!e&&!t)return Promise.reject({message:"URL and HTTP Method is not mentioned."});if(e){var s=new RegExp(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi);if(!e.match(s))return Promise.reject({message:"Malformed URL, Please check"})}if(t&&t===Ot&&!a)return Promise.reject({message:"POST method must contain Request Body."});if(!navigator.onLine)return Promise.reject({message:"Unable to connect with Internet!"});var r=n;return i&&(r=Object(F.a)(Object(F.a)({},n),{},{Authorization:gt})),vt()({method:t,url:e,data:a,headers:r})}("".concat(xt.api_url,"/auth/refresh"),yt,null,null,!0).then((function(t){var a;a=t.data.auth_token,localStorage.setItem(wt,a),e.setState({user:t.data.user,isRefreshed:!0})})).catch((function(t){localStorage.removeItem(wt),e.setState({isRefreshed:!0})})):this.setState({isRefreshed:!0})}},{key:"render",value:function(){return Object(D.jsx)(D.Fragment,{children:this.state.isRefreshed?Object(D.jsx)(bt.Provider,{value:{user:this.state.user,setAuth:this.setState},children:this.props.children}):Object(D.jsx)(D.Fragment,{children:"Your Loader Here..."})})}}]),a}(d.a.Component),It=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(D.jsx)("div",{className:"warpper",children:Object(D.jsx)(Nt,{children:Object(D.jsx)(pt,{children:Object(D.jsx)(tt,{})})})})}}]),a}(u.Component);a(487),a(488),a(489);m.render(Object(D.jsx)(It,{}),document.getElementById("root"))}},[[490,1,2]]]);
//# sourceMappingURL=main.d903c865.chunk.js.map