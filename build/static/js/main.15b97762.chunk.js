(this["webpackJsonpmy-idea"]=this["webpackJsonpmy-idea"]||[]).push([[0],{197:function(e,t,a){},389:function(e,t,a){},418:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},441:function(e,t,a){},442:function(e,t,a){},446:function(e,t,a){},457:function(e,t,a){},458:function(e,t,a){},459:function(e,t,a){},460:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(0),s=a.n(i),r=a(44),o=(a(273),a(37)),c=a(38),l=a(40),u=a(39),d=a(254),m=a(53),j=a(21),h=a.n(j),p=a(45),b=a(61),f=a(500),v=a(265),O=a(126),g=a(88),x=a(499),y=a(260),w=a(504),N=a(58),I=a(508),S=a(509),C=(a(197),f.a.Title),k=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setInputValue=function(e,t){n.setState(Object(b.a)({},e,t))},n.handleSubmit=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,v.b.loading("Login In....",5);case 3:fetch("http://193.164.132.55:3001/api/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:n.state.username,password:n.state.password})}).then((function(e){return e.json()})).then((function(e){if("valid  user"===e.info||"email send successfully"===e.info){var t,a,i;if(localStorage.setItem("user_id_login",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id),localStorage.setItem("user_name",n.state.username),1===(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.role_id))localStorage.setItem("admin",null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.role_id);window.location.pathname="/signin"}else v.b.error("Faild to login",5)})).catch((function(e){v.b.error("Faild to login",5),console.log(e,5)}));case 4:case"end":return e.stop()}}),e)}))),n.state={username:"",password:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){localStorage.clear()}},{key:"render",value:function(){var e=this,t=this.state.username;return Object(n.jsx)("div",{className:"main-login",children:Object(n.jsxs)(O.a,{style:{height:"100%"},children:[Object(n.jsx)(g.a,{md:{span:24},lg:{span:12},className:"f-col",children:Object(n.jsx)("div",{className:"main",children:Object(n.jsxs)(x.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(n.jsx)(y.a,{size:54,src:"assets/TITLES (2).png",className:"avatar"}),Object(n.jsx)(C,{level:3,className:"title",children:"Sign In"}),Object(n.jsx)(x.a.Item,{name:"username",rules:[{required:!0,message:"Please enter your username!"}],children:Object(n.jsx)(w.a,{autoFocus:!0,autoComplete:"off",className:"Input",onChange:function(t){return e.setInputValue("username",t.target.value)},prefix:Object(n.jsx)(I.a,{className:"site-form-item-icon"}),value:t,placeholder:"user id / mail"})}),Object(n.jsx)(x.a.Item,{style:{margin:0}}),Object(n.jsx)(x.a.Item,{children:Object(n.jsxs)(N.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:["Submit ",Object(n.jsx)(S.a,{className:"loginIcon"})]})})]})})}),Object(n.jsxs)(g.a,{span:12,className:"s-col",children:[Object(n.jsx)("div",{className:"circle-ripple"}),Object(n.jsx)("img",{style:{width:"100%",height:"100%"},alt:"img",src:"https://s3-eu-central-1.amazonaws.com/centaur-wp/marketingweek/prod/content/uploads/2020/05/20125057/shutterstock_586719869-750x500.jpg"})]})]})})}}]),a}(i.Component),M=a(34),T={admin:"/admin",Login:"/login",forget:"/forget",HomeCom:"/home",signIn:"/signin",form:"/form",mymovie:"/mymovie",notification:"/notification",passwordchange:"/passwordchange",request:"/request"},_=a(266),P=a(502),D=a(497),q=a(495),Y=a(262),F=a(505),A=a(171),z=a(92),L=(a(389),a(64)),B=a.n(L),R=a(510),U=a(105),$=a(106),V=a.n($);function E(){var e=Object(U.a)(['mutation {\n    updateUserProfileById(\n      input: {\n        userProfilePatch: {\n          birthday: "','"\n          email: "','"\n          firstName: "','"\n          lastName: "','"\n          mobileNo: "','"\n          profileImg: "','"\n        }\n        id: "','"\n      }\n    ) {\n      clientMutationId\n    }\n  }\n    ']);return E=function(){return e},e}function H(){var e=Object(U.a)(['mutation {\n      createMovieTitle(\n        input: {\n          movieTitle: {\n            name: "','"\n            price: "','"\n            description: "','"\n            movieImage: "','"\n            id: "','"\n            isPurchase: false\n            updatedBy: "','"\n            createdBy: "','"\n            createdAt: "','"\n            updatedAt: "','"\n            isActive: true\n          }\n        }\n      ) {\n        clientMutationId\n      }\n    }\n    ']);return H=function(){return e},e}function Z(){var e=Object(U.a)(['query MyQuery {\n    userProfileById(id: "','") {\n      id\n      email\n      createdAt\n      birthday\n      firstName\n      lastName\n      mobileNo\n      profileImg\n    }\n  }\n  ']);return Z=function(){return e},e}function J(){var e=Object(U.a)(["query MyQuery {\n  allMovieTitles (filter: {isPurchase: {equalTo: true}}){\n    nodes {\n    name\n    id\n    createdAt\n    price\n    movieImage\n    description\n    isPurchase\n    }\n  }\n}"]);return J=function(){return e},e}function Q(){var e=Object(U.a)(['query MyQuery {\n  allMovieTitles(filter: {createdBy: {equalTo: "','"}, isPurchase: {equalTo: true}}) {\n    nodes {\n      name\n      id\n      description\n      createdAt\n      price\n      movieImage\n      isPurchase\n    }\n  }\n}\n']);return Q=function(){return e},e}function K(){var e=Object(U.a)(['mutation MyMutation {\n    updateMovieTitleById(\n      input: {\n        id: "','"\n        movieTitlePatch: { isPurchase: true }\n      }\n    ) {\n      clientMutationId\n    }\n  }\n  ']);return K=function(){return e},e}function W(){var e=Object(U.a)(["query MyQuery {\n  allMovieTitles (filter: {isPurchase: {equalTo: false}}){\n    nodes {\n      nodeId\n      createdBy\n      createdAt\n      description\n      id\n      isActive\n      isPurchase\n      movieImage\n      name\n      price\n      updatedAt\n      updatedBy\n    }\n  }\n}"]);return W=function(){return e},e}var G=V()(W()),X=function(e){return V()(Q(),e)},ee=V()(J()),te=function(e){return V()(Z(),e)},ae=function(e,t,a,n,i,s,r){return V()(H(),e,t,a,n,i,s,s,r,r)},ne=function(e,t,a,n,i,s,r){return V()(E(),i,a,e,t,n,s,r)},ie=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.client.query({query:te(localStorage.getItem("user_id"))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.userProfileById;n.setState({firstName:null===a||void 0===a?void 0:a.firstName,lastName:null===a||void 0===a?void 0:a.lastName,mobile_no:null===a||void 0===a?void 0:a.mobileNo,birthday:B()(null===a||void 0===a?void 0:a.birthday).format("YYYY-MM-DD"),email:null===a||void 0===a?void 0:a.email,fileList:[{uid:"-1",status:"done",url:null===a||void 0===a?void 0:a.profileImg}],id:null===a||void 0===a?void 0:a.id,movieImage:null===a||void 0===a?void 0:a.profileImg})}})).catch((function(e){console.log("err:",e)})),n.props.client.query({query:localStorage.getItem("admin")?ee:X(localStorage.getItem("user_id"))}).then((function(e){var t,a;(null===e||void 0===e?void 0:e.data)&&n.setState({listdata:null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes})})).catch((function(e){console.log("err:",e)}));case 2:case"end":return e.stop()}}),e)}))),n.logout=function(){localStorage.clear(),n.props.history.push("/login")},n.handleopen=function(){var e=n.state;n.setState({open:!e.open})},n.handlechange=function(e,t){var a=n.state;n.setState(Object(M.a)(Object(M.a)({},a),{},Object(b.a)({},e,t)))},n.getBase64=function(e,t){var a=new FileReader;return a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},n.handleChange=function(e){e.file.originFileObj&&n.getBase64(e.file.originFileObj,(function(t){n.setState({fileList:[{uid:"-1",name:e.file.name,status:"done",url:t}],movieImage:t})}))},n.handleSubmit=Object(p.a)(h.a.mark((function e(){var t,a,i,s,r,o,c,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.firstName,i=t.lastName,s=t.email,r=t.mobile_no,o=t.birthday,c=t.movieImage,l=t.id,c){e.next=4;break}return v.b.error("Please upload the movie image",5),e.abrupt("return",!1);case 4:return e.next=6,v.b.loading("Loading....",5);case 6:n.props.client.mutate({variables:{},mutation:ne(a,i,s,r,B()(o).format("YYYY-MM-DD"),c,l)}).then((function(e){_.a.success({message:"Success",description:"Your profile has been updated!"}),console.log("res:",e)})).catch((function(e){v.b.error(e,5)}));case 7:case"end":return e.stop()}}),e)}))),n.state={open:!1,firstName:null,lastName:null,email:null,mobile_no:null,birthday:null,fileList:[],movieImage:null,id:null,listdata:[]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.open,i=t.firstName,s=t.lastName,r=t.email,o=t.mobile_no,c=t.birthday,l=t.fileList,u=t.listdata,d=window.location.pathname;return Object(n.jsxs)("div",{className:"headermain",children:[Object(n.jsx)(P.a,{title:"Profile Details",placement:"right",onClose:function(){return e.handleopen()},visible:a,width:310,children:Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsx)(D.a,{onChange:function(t){return e.handleChange(t)},action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:l,multiple:!1,listType:"picture-card",onRemove:function(){return e.setState({fileList:[],movieImage:null})},children:"Image Upload"}),Object(n.jsxs)(x.a,{name:"normal_login",onFinish:function(){return e.handleSubmit()},children:[Object(n.jsx)("br",{}),Object(n.jsx)(w.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:i,size:"large",onChange:function(t){return e.handlechange("firstName",t.target.value)},placeholder:"FirstName",required:!0}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(w.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:s,size:"large",required:!0,onChange:function(t){return e.handlechange("lastName",t.target.value)},placeholder:"LastName"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(w.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:r,size:"large",onChange:function(t){return e.handlechange("email",t.target.value)},placeholder:"email",required:!0}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(w.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:o,size:"large",onChange:function(t){return e.handlechange("mobile_no",t.target.value)},placeholder:"mobile_no",required:!0}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(w.a,{autoFocus:!0,autoComplete:"off",className:"Input",value:B()(c).format("YYYY-MM-DD"),size:"large",onChange:function(t){return e.handlechange("birthday",t.target.value)},placeholder:"birthday",required:!0}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(N.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Update"})]})]})}),Object(n.jsx)(q.a,{ghost:!1,title:Object(n.jsxs)(Y.a,{separator:!1,className:"Breadcrumb",children:[Object(n.jsx)(Y.a.Item,{className:"home",children:Object(n.jsx)("img",{className:"imgss",alt:"img",style:{position:"absolute",marginTop:-8},src:"assets/TITLES (2).png",onClick:function(){return window.location.href="/home"}})}),Object(n.jsxs)("div",{className:"center_of",children:[Object(n.jsx)(Y.a.Item,{className:"home ".concat("/home"===d&&"active"),onClick:function(){return window.location.href="/home"},children:"Home"}),Object(n.jsx)(Y.a.Item,{className:"home mb sv ".concat("/mymovie"===d&&"active"),onClick:function(){return window.location.href="/mymovie"},children:localStorage.getItem("admin")?"Data's":" My movies"}),Object(n.jsx)(Y.a.Item,{className:"home mb lg ".concat("/notification"===d&&"active"),onClick:function(){return window.location.href="/notification"},children:Object(n.jsx)(F.a,{size:"small",count:0===(null===u||void 0===u?void 0:u.length)?"0,":null===u||void 0===u?void 0:u.length,style:{backgroundColor:"#52c41a",color:"#fff"},children:"Notification"})}),localStorage.getItem("admin")&&Object(n.jsx)(Y.a.Item,{className:"home mb sv ".concat("/request"===d&&"active"),onClick:function(){return window.location.href="/request"},children:"Request"})]})]}),extra:[Object(n.jsx)(A.a,{arrow:!0,placement:"bottomCenter",overlay:Object(n.jsxs)(z.a,{className:"menulist_item",children:[Object(n.jsx)(z.a.Item,{className:"menulist_item",onClick:function(){return e.handleopen()},children:"Profile"}),Object(n.jsx)(z.a.Item,{className:"menulist_item",onClick:function(){return e.logout()},children:"Logout"}),Object(n.jsx)(z.a.Item,{className:"menulist_item hinmbl",onClick:function(){return window.location.href="/notification"},children:localStorage.getItem("admin")?"Data's":" My movies"}),Object(n.jsx)(z.a.Item,{className:"menulist_item hinmbl",onClick:function(){return window.location.href="/mymovie"},children:"Notification"}),localStorage.getItem("admin")&&Object(n.jsx)(z.a.Item,{className:"menulist_item hinmbl",onClick:function(){return window.location.href="/request"},children:"Request"})]}),children:Object(n.jsx)("span",{style:{cursor:"pointer"},children:"More\u25be"})})]})]})}}]),a}(s.a.Component),se=Object(R.a)(ie),re=a(141),oe=a(172),ce=a(96),le=(a(418),a(242)),ue=a.n(le),de=(a(433),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"main_carousel",children:Object(n.jsx)(ue.a,Object(M.a)(Object(M.a)({className:"sliders"},{dots:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,speed:1e3,autoplaySpeed:2e3,arrows:!1}),{},{children:["https://moviegalleri.net/wp-content/gallery/sultan-images/Sultan-Movie-Images-HD-Karthi-Rashmika-Mandanna-35c2f2c.jpg","https://moviegalleri.net/wp-content/gallery/master-hd-images/Master-Movie-HD-Images-Vijay-Sethupathi-Malavika-Mohanan-814b98d.jpg","https://moviegalleri.net/wp-content/gallery/karnan-images-hd/Dhanush-Karnan-Movie-Images-HD-Photos-Pics-6d71a1a.jpg"].map((function(e){return Object(n.jsx)("div",{className:"sliders",children:Object(n.jsx)("img",{src:e,alt:"img"})})}))}))})}}]),a}(i.Component)),me=a(501),je=(a(434),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.children,i=e.onOk,s=e.onCancel,r=e.okTextTitle,o=e.titleText,c=e.footer;return Object(n.jsx)(me.a,{className:"modal-of-com",title:o&&o,style:{top:20},visible:t&&t,onOk:function(){return i&&i()},onCancel:function(){return s&&s()},okText:r&&r,footer:c&&c,children:a})}}]),a}(s.a.Component)),he=(a(435),a(498)),pe=he.a.Meta,be=f.a.Title,fe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleModal=function(e){var t=n.state;n.setState(Object(M.a)(Object(M.a)({},t),{},{open:!t.open,show_data:e}))},n.state={open:!1,show_data:null},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.open,i=t.show_data,s=this.props.listdata;return Object(n.jsxs)("div",{className:"linelist_main",children:[Object(n.jsx)(je,{open:a,onCancel:function(){return e.handleModal()},okText:!1,children:Object(n.jsxs)(O.a,{gutter:16,children:[Object(n.jsx)(g.a,{xs:{span:24},sm:{span:12},children:Object(n.jsx)("img",{style:{width:"100%"},alt:"img",src:null===i||void 0===i?void 0:i.img})}),Object(n.jsxs)(g.a,{xs:{span:24},sm:{span:12},children:[Object(n.jsxs)(be,{level:5,className:"modal_title",children:[Object(n.jsx)("label",{children:"Name :"}),null===i||void 0===i?void 0:i.name]}),Object(n.jsxs)(be,{level:5,className:"modal_title",children:[Object(n.jsx)("label",{children:"Registered date :"})," ",null===i||void 0===i?void 0:i.registered_date]})]}),Object(n.jsxs)(be,{level:5,className:"modal_title_dis",children:[Object(n.jsx)("label",{children:"Short description of movie :"})," ",null===i||void 0===i?void 0:i.dis]})]})}),Object(n.jsx)(O.a,{gutter:16,children:null===s||void 0===s?void 0:s.map((function(t){return Object(n.jsx)(g.a,{xs:{span:24},sm:{span:12},md:{span:6},children:Object(n.jsx)(he.a,{onClick:function(){return e.handleModal(t)},hoverable:!0,cover:Object(n.jsx)("img",{alt:"example",src:null===t||void 0===t?void 0:t.img}),children:Object(n.jsx)(pe,{title:null===t||void 0===t?void 0:t.name})})})}))})]})}}]),a}(s.a.Component),ve=f.a.Title,Oe=f.a.Text,ge=w.a.Search,xe=re.a.Option,ye=w.a.TextArea,we=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),2e3);case 2:n.props.client.query({query:localStorage.getItem("admin")?ee:X(localStorage.getItem("user_id"))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i,s=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a||null===(i=a.nodes)||void 0===i?void 0:i.filter((function(e){return e.registered_date=B()(null===e||void 0===e?void 0:e.createdAt).format("DD/MM/YYYY"),e.img=null===e||void 0===e?void 0:e.movieImage,e.dis=null===e||void 0===e?void 0:e.description,e}));n.setState({listdata:s})}})).catch((function(e){console.log("err:",e)}));case 3:case"end":return e.stop()}}),e)}))),n.handleSubmit=function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("token")){e.next=6;break}return e.next=3,v.b.info("Please sign in to continue...",5);case 3:n.props.history.push("/login"),e.next=7;break;case 6:n.setState(Object(M.a)(Object(M.a)({},n.state),{},{searchdata:t}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChanges=function(e){n.setState(Object(M.a)(Object(M.a)({},n.state),{},{searchdata:e}))},n.handleopn=function(){var e=n.state;n.setState(Object(M.a)(Object(M.a)({},e),{},{open:!e.open}))},n.onChange=function(e){var t=n.state;n.setState(Object(M.a)(Object(M.a)({},t),{},{selectdata:e}))},n.handleselectopen=function(){var e=n.state;n.setState(Object(M.a)(Object(M.a)({},e),{},{selectopen:!e.selectopen}))},n.handlerequest=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,n.setState(Object(M.a)(Object(M.a)({},t),{},{selectopen:!t.selectopen})),e.next=4,v.b.success("Your request has been sended successfully they will get you soon...!",5);case 4:n.props.history.push("/admin");case 5:case"end":return e.stop()}}),e)}))),n.state={open:!1,searchdata:"",selectdata:"",selectopen:!1,listdata:[],loader:!0},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.open,i=t.searchdata,s=t.listdata,r=t.selectopen,o=t.loader,c=null===s||void 0===s?void 0:s.filter((function(e){var t;return e.name?null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()):e}));return Object(n.jsxs)("div",{className:"drivermain",children:[o&&Object(n.jsx)("div",{className:"loader",children:Object(n.jsx)(oe.a,{size:"large"})}),!o&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(je,{open:a,onCancel:function(){return e.handleopn()},okText:!1,children:"I'll explain to Soon !"}),Object(n.jsx)(de,{}),Object(n.jsxs)("div",{className:"search",children:[Object(n.jsx)(ve,{level:4,className:"title",children:"Title Search"}),Object(n.jsx)(ge,{className:"search_field",placeholder:"Search title...",enterButton:"Search",size:"large",value:i,onChange:function(t){return e.handleChanges(t.target.value)},onSearch:function(t){e.handleSubmit(t)}}),Object(n.jsx)(Oe,{className:"guidline",onClick:function(){return e.handleopn()},children:"How to use this"}),i&&Object(n.jsx)(fe,{searchdata:i,listdata:c}),i&&!(null===c||void 0===c?void 0:c.length)>0&&Object(n.jsxs)("div",{children:[Object(n.jsx)(ce.a,{}),Object(n.jsx)(N.a,{className:"pay_btn",onClick:function(){return e.props.history.push("/form")},children:"Buy Now"})," "]}),Object(n.jsxs)(je,{open:r,onCancel:function(){return e.handleselectopen()},okText:!1,children:[Object(n.jsxs)(re.a,{showSearch:!0,style:{width:"100%",margin:"20px 0px"},placeholder:"Choose your plan",onChange:this.onChange,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:[Object(n.jsx)(xe,{value:"price $100 (1 year of validity)",children:"price $100 (1 year of validity)"}),Object(n.jsx)(xe,{value:"price $500 (5 year of validity)",children:"price $500 (5 year of validity)"}),Object(n.jsx)(xe,{value:"price $1000 (10 year of validity)",children:"price $1000 (10 year of validity)"})]}),Object(n.jsx)(ye,{rows:4,placeholder:"Description"}),Object(n.jsx)("br",{}),Object(n.jsx)(N.a,{className:"continue_pay_btn",onClick:function(){return e.handlerequest()},children:"Continue to Buy Now"})," "]})]})]})]})}}]),a}(s.a.Component),Ne=Object(R.a)(we),Ie=(a(441),w.a.TextArea),Se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"main_admin",children:Object(n.jsxs)(O.a,{gutter:16,children:[Object(n.jsx)(g.a,{xs:{span:24},sm:{span:12},children:Object(n.jsx)(w.a,{placeholder:"name",value:"Black Panther",style:{width:"100%"},suffix:"name"})}),Object(n.jsx)(g.a,{xs:{span:24},sm:{span:12},children:Object(n.jsx)(w.a,{placeholder:"name",value:"American superhero",style:{width:"100%"},suffix:"Registered Name"})}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(g.a,{xs:{span:24},sm:{span:12},children:Object(n.jsx)(w.a,{placeholder:"name",value:"21/01/2021",style:{width:"100%"},suffix:"Registered Date"})}),Object(n.jsx)(g.a,{xs:{span:24},sm:{span:12},children:Object(n.jsx)(Ie,{placeholder:"name",rows:4,value:"Black Panther is a 2018 American superhero film based on the Marvel Comics character of the same name. Produced by Marvel Studios and distributed by Walt Disney Studios Motion Pictures, it is the 18th film in the Marvel Cinematic Universe (MCU).",style:{width:"100%"},suffix:"Description"})}),Object(n.jsx)(N.a,{className:"continue_submit_btn",children:"Submit"})]})})}}]),a}(i.Component),Ce=(a(442),a(246)),ke=f.a.Title,Me=re.a.Option,Te=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),2e3);case 2:n.props.client.query({query:te(localStorage.getItem("user_id"))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.userProfileById;n.setState({name:(null===a||void 0===a?void 0:a.firstName)+" "+(null===a||void 0===a?void 0:a.lastName),mobile_no:null===a||void 0===a?void 0:a.mobileNo,birthday:B()(null===a||void 0===a?void 0:a.birthday).format("YYYY-MM-DD"),email:null===a||void 0===a?void 0:a.email})}})).catch((function(e){v.b.error("Faild to fetch data",5)}));case 3:case"end":return e.stop()}}),e)}))),n.setInputValue=function(e,t){n.setState(Object(b.a)({},e,t))},n.onChange=function(e){var t=n.state;n.setState(Object(M.a)(Object(M.a)({},t),{},{validity:e}))},n.handleSubmit=Object(p.a)(h.a.mark((function e(){var t,a,i,s,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.moviename,i=t.description,s=t.validity,r=t.movieImage){e.next=4;break}return v.b.error("Please upload the movie image",5),e.abrupt("return",!1);case 4:return o={"price $100 (1 year of validity)":"100","price $500 (5 year of validity)":"500","price $1000 (10 year of validity)":"1000"},e.next=7,v.b.loading("Loading....",5);case 7:n.props.client.mutate({mutation:ae(a,o[s],i,r,Object(Ce.uuid)(),localStorage.getItem("user_id"),B()(new Date).format("YYYY-MM-DD"))}).then((function(e){console.log(e),_.a.success({message:"Success",description:"Your details has been successful!"}),n.setState(Object(M.a)({},n.state)),window.location.href="/home"})).catch((function(e){v.b.error("Faild to fetch data",5)}));case 8:case"end":return e.stop()}}),e)}))),n.getBase64=function(e,t){var a=new FileReader;return a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},n.handleChange=function(e){e.file.originFileObj&&n.getBase64(e.file.originFileObj,(function(t){n.setState({fileList:[{uid:"-1",name:e.file.name,status:"done",url:t}],movieImage:t})}))},n.state={name:null,mobile_no:null,email:null,birthday:null,moviename:null,validity:null,description:null,movieImage:null,fileList:[],loader:!0},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,i=t.mobile_no,s=t.email,r=t.birthday,o=t.moviename,c=t.validity,l=t.description,u=t.fileList,d=t.loader;return Object(n.jsxs)("div",{className:"main-form",children:[Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),d&&Object(n.jsx)("div",{className:"loader",children:Object(n.jsx)(oe.a,{size:"large"})}),!d&&Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)(he.a,{title:"Personal Details",className:"cards",children:Object(n.jsxs)(O.a,{gutter:16,children:[Object(n.jsxs)(g.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(n.jsx)(ke,{level:5,className:"titles",children:"User Name"}),Object(n.jsx)(w.a,{style:{width:"96%"},placeholder:"User Name",className:"filed",disabled:!0,value:a,size:"large"})]}),Object(n.jsxs)(g.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(n.jsx)(ke,{level:5,className:"titles",children:"Date of birth"}),Object(n.jsx)(w.a,{style:{width:"96%"},placeholder:"Please input",className:"filed",disabled:!0,size:"large",value:r})]}),Object(n.jsxs)(g.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(n.jsx)(ke,{level:5,className:"titles",children:"Email"}),Object(n.jsx)(w.a,{style:{width:"96%"},placeholder:"Please input",className:"filed",disabled:!0,size:"large",value:s})]}),Object(n.jsxs)(g.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(n.jsx)(ke,{level:5,className:"titles",children:"Mobile Number"}),Object(n.jsx)(w.a,{style:{width:"96%"},placeholder:"Please input",className:"filed",disabled:!0,size:"large",value:i})]})]})}),Object(n.jsx)(he.a,{title:"Movie Details",className:"cards",children:Object(n.jsxs)(x.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(n.jsxs)(O.a,{gutter:16,children:[Object(n.jsxs)(g.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(n.jsx)(ke,{level:5,className:"titles",children:"Movie Image"}),Object(n.jsx)(D.a,{onChange:function(t){return e.handleChange(t)},action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",fileList:u,multiple:!1,listType:"picture-card",onRemove:function(){return e.setState({fileList:[],movieImage:null})},children:"+ Upload"})]}),Object(n.jsxs)(g.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(n.jsx)(ke,{level:5,className:"titles",children:"Movie Name"}),Object(n.jsx)(x.a.Item,{name:"moviename",rules:[{required:!0,message:"Please enter your movie name!"}],children:Object(n.jsx)(w.a,{autoFocus:!0,style:{width:"96%"},autoComplete:"off",className:"Input",onChange:function(t){return e.setInputValue("moviename",t.target.value)},size:"large",value:o,placeholder:"Movie Name"})})]}),Object(n.jsxs)(g.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(n.jsx)(ke,{level:5,className:"titles",children:"Choose your plan"}),Object(n.jsx)(x.a.Item,{name:"validity",rules:[{required:!0,message:"Please select your validity!"}],children:Object(n.jsxs)(re.a,{showSearch:!0,allowClear:!0,style:{width:"96%"},placeholder:"Choose yor plan",size:"large",onChange:this.onChange,value:c,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:[Object(n.jsx)(Me,{value:"price $100 (1 year of validity)",children:"price $100 (1 year of validity)"}),Object(n.jsx)(Me,{value:"price $500 (5 year of validity)",children:"price $500 (5 year of validity)"}),Object(n.jsx)(Me,{value:"price $1000 (10 year of validity)",children:"price $1000 (10 year of validity)"})]})})]}),Object(n.jsxs)(g.a,{xs:{span:24},sm:{span:24},lg:{span:12},children:[Object(n.jsx)(ke,{level:5,className:"titles",children:"Enter your description"}),Object(n.jsx)(x.a.Item,{name:"description",rules:[{required:!0,message:"Please enter your description!"}],children:Object(n.jsx)(w.a.TextArea,{style:{width:"96%"},onChange:function(t){return e.setInputValue("description",t.target.value)},value:l})})]})]}),Object(n.jsx)(N.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Proceed to Buynow"})]})})]})]})}}]),a}(i.Component),_e=Object(R.a)(Te),Pe=a(261),De=a(507),qe=a(496),Ye=(a(446),a(511)),Fe=f.a.Title,Ae=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),2e3);case 2:n.props.client.query({query:localStorage.getItem("admin")?ee:X(localStorage.getItem("user_id"))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes;n.setState({listdata:i})}})).catch((function(e){console.log("err:",e)}));case 3:case"end":return e.stop()}}),e)}))),n.readFileContents=function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=new FileReader;n.onload=function(t){e(n.result.split(/[\r\n]+/g))},n.onerror=a,n.readAsText(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAllFiles=function(){var e=Object(p.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(p.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.readFileContents(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return a=e.sent,console.log(a),e.abrupt("return",n.setState({data:t}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleUpload=function(){var e=Object(p.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],Object(Pe.a)(t.target.files).map((function(e){return a.push(e)})),e.next=4,n.readAllFiles(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveData=Object(p.a)(h.a.mark((function e(){var t,a,i,s,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.state,!(!(null===(t=i.data)||void 0===t?void 0:t.length)>0)){e.next=4;break}return v.b.error("Please upload the movie file",5),e.abrupt("return");case 4:return s=[],r=null===(a=n.state.data)||void 0===a?void 0:a.map((function(e){return s.push({lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.size,webkitRelativePath:e.size}),e})),console.log(r),e.next=9,v.b.loading("uploading....",5);case 9:fetch("http://193.164.132.55:3001/api/bulk_upload_user",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({file:s})}).then((function(e){return e.json()})).then((function(e){!0!==e.error?(_.a.success({message:"Success",description:"Your file uplaod has been successful!"}),window.location.reload()):v.b.error("Faild to uplaod",5)})).catch((function(e){v.b.error("Faild to uplaod",5),console.log(e,5)}));case 10:case"end":return e.stop()}}),e)}))),n.state={loader:!0,listdata:[],data:[]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loader,i=t.listdata,s=t.data;return Object(n.jsxs)("div",{children:[a&&Object(n.jsx)("div",{className:"loader",children:Object(n.jsx)(oe.a,{size:"large"})}),!a&&Object(n.jsxs)("div",{className:"mymovie_main",children:[Object(n.jsx)(Fe,{level:5,className:"m_title",children:localStorage.getItem("admin")?"Data's":"Your Movies"}),localStorage.getItem("admin")&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"drap",children:Object(n.jsxs)("div",{className:"root",children:[Object(n.jsx)("input",{type:"file",multiple:!0,onChange:function(t){return e.handleUpload(t)},disabled:this.props.disabled,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),Object(n.jsx)(Ye.a,{className:"icons"}),Object(n.jsx)("p",{className:"testupload",children:"Drag & Drop your files here"}),Object(n.jsx)("p",{className:"testupload",children:"OR"}),Object(n.jsx)(N.a,{className:"submit",style:{textTransform:"capitalize",padding:"8px 22px",fontSize:13},children:"Browse Files"})]})}),Object(n.jsx)("br",{}),Object(n.jsx)(N.a,{type:"primary",className:"adddatas",onClick:function(){return e.saveData()},children:"Submit"}),Object(n.jsx)("br",{})]}),(null===s||void 0===s?void 0:s.length)>0&&Object(n.jsx)(De.b,{header:Object(n.jsx)("div",{children:"Files"}),bordered:!0,dataSource:null===s||void 0===s?void 0:s.map((function(e){return null===e||void 0===e?void 0:e.name})),renderItem:function(e,t){return Object(n.jsxs)(De.b.Item,{children:[Object(n.jsx)(f.a.Text,{mark:!0,children:t})," ",e]})}}),0===(null===i||void 0===i?void 0:i.length)&&Object(n.jsx)(ce.a,{}),!localStorage.getItem("admin")&&(null===i||void 0===i?void 0:i.map((function(e){return Object(n.jsxs)(De.b.Item,{className:"cards",children:[Object(n.jsx)(De.b.Item.Meta,{avatar:Object(n.jsx)(y.a,{src:null===e||void 0===e?void 0:e.movieImage}),title:(null===e||void 0===e?void 0:e.name)+" "+B()(null===e||void 0===e?void 0:e.birthday).format("YYYY-MM-DD")+" to "+B()(null===e||void 0===e?void 0:e.birthday).format("YYYY-MM-DD"),description:null===e||void 0===e?void 0:e.description}),Object(n.jsx)("div",{className:"dis",children:Object(n.jsx)(N.a,{type:"primary",danger:!0,children:"Proceed to extend validity"})})]})}))),localStorage.getItem("admin")&&Object(n.jsx)("div",{children:Object(n.jsx)(qe.a,{dataSource:i,columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Description",dataIndex:"description",key:"description"},{title:"CreatedAt",dataIndex:"createdAt",key:"createdAt"}]})})]})]})}}]),a}(i.Component),ze=Object(R.a)(Ae),Le=a(512),Be=(a(457),f.a.Title),Re=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setInputValue=function(e,t){n.setState(Object(b.a)({},e,t))},n.handleSubmit=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.b.loading("Loding...",5);case 2:fetch("http://3.141.17.227:3001/api/new_password",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:n.state.password,otp:n.state.otp,id:localStorage.getItem("forget_id")})}).then((function(e){return e.json()})).then((function(e){"password change successfully"===e.info?(_.a.success({message:"Success",description:"Your password change successfully!"}),n.props.history.push("/login")):v.b.error("Faild",5)})).catch((function(e){v.b.error(e,5)}));case 3:case"end":return e.stop()}}),e)}))),n.state={password:null,otp:null},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.otp,i=t.password;return Object(n.jsx)("div",{className:"passwordchange",children:Object(n.jsxs)(O.a,{className:"workspacelog",children:[Object(n.jsx)(Be,{level:5,className:"dis_title",children:"Forget password"}),Object(n.jsxs)(x.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(n.jsx)(x.a.Item,{name:"otp",rules:[{required:!0,message:"Please enter your otp!"}],children:Object(n.jsx)(w.a,{size:"large",autoFocus:!0,autoComplete:"off",className:"Input",value:a,placeholder:"Please enter OTP",onChange:function(t){return e.setInputValue("otp",t.target.value)}})}),Object(n.jsx)(x.a.Item,{name:"password",rules:[{required:!0,message:"Please enter your password!"}],children:Object(n.jsx)(w.a.Password,{size:"large",autoFocus:!0,autoComplete:"off",className:"Input",value:i,type:"password",placeholder:"Please enter password",onChange:function(t){return e.setInputValue("password",t.target.value)}})}),Object(n.jsxs)(x.a.Item,{children:[Object(n.jsxs)(N.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:["Submit ",Object(n.jsx)(S.a,{className:"loginIcon"})]}),Object(n.jsxs)("span",{className:"login-form-register",children:["Back to your sign in \xa0",Object(n.jsxs)("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return e.props.history.push("/login")},children:["Login ",Object(n.jsx)(Le.a,{})]})," "]})]})]})]})})}}]),a}(i.Component),Ue=(a(458),a(513)),$e=f.a.Title,Ve=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),2e3);case 2:n.props.client.query({query:localStorage.getItem("admin")?ee:X(localStorage.getItem("user_id"))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes;n.setState({listdata:i})}})).catch((function(e){console.log("err:",e)}));case 3:case"end":return e.stop()}}),e)}))),n.state={loader:!0,listdata:[]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.loader,a=e.listdata;return Object(n.jsxs)("div",{children:[t&&Object(n.jsx)("div",{className:"loader",children:Object(n.jsx)(oe.a,{size:"large"})}),!t&&Object(n.jsxs)("div",{className:"notification_main",children:[Object(n.jsx)($e,{level:5,className:"m_title",children:"Your Notifications"}),0===(null===a||void 0===a?void 0:a.length)&&Object(n.jsx)(ce.a,{}),null===a||void 0===a?void 0:a.map((function(e){return Object(n.jsxs)(De.b.Item,{className:"cards",children:[Object(n.jsx)(De.b.Item.Meta,{avatar:Object(n.jsx)(y.a,{src:null===e||void 0===e?void 0:e.movieImage}),title:null===e||void 0===e?void 0:e.name,description:null===e||void 0===e?void 0:e.description}),Object(n.jsxs)("div",{className:"dis",children:[Object(n.jsx)(Ue.a,{})," verified"]})]})}))]})]})}}]),a}(i.Component),Ee=Object(R.a)(Ve),He=(a(459),f.a.Title),Ze=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){return n.setState({loader:!1})}),2e3);case 2:n.props.client.query({query:G}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes;n.setState({listdata:i})}})).catch((function(e){console.log("err:",e)}));case 3:case"end":return e.stop()}}),e)}))),n.accpectAll=function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.client.mutate({mutation:(a=t.id,V()(K(),a))}).then((function(e){if(null===e||void 0===e?void 0:e.data){var t,a,i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.allMovieTitles)||void 0===a?void 0:a.nodes;n.setState({listdata:i}),window.location.reload()}})).catch((function(e){console.log("err:",e)}));case 2:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={loader:!0,listdata:[]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loader,i=t.listdata;return Object(n.jsxs)("div",{children:[a&&Object(n.jsx)("div",{className:"loader",children:Object(n.jsx)(oe.a,{size:"large"})}),!a&&Object(n.jsxs)("div",{className:"request_main",children:[Object(n.jsx)(He,{level:5,className:"m_title",children:"Request's"}),0===(null===i||void 0===i?void 0:i.length)&&Object(n.jsx)(ce.a,{}),null===i||void 0===i?void 0:i.map((function(t){return Object(n.jsxs)(De.b.Item,{className:"cards",children:[Object(n.jsx)(De.b.Item.Meta,{avatar:Object(n.jsx)(y.a,{src:null===t||void 0===t?void 0:t.movieImage}),title:(null===t||void 0===t?void 0:t.name)+" "+B()(null===t||void 0===t?void 0:t.birthday).format("YYYY-MM-DD")+" to "+B()(null===t||void 0===t?void 0:t.birthday).format("YYYY-MM-DD"),description:null===t||void 0===t?void 0:t.description}),Object(n.jsxs)("div",{className:"dis",children:[Object(n.jsx)(N.a,{type:"primary",onClick:function(){return e.accpectAll(t)},children:"Accpect"}),"\xa0",Object(n.jsx)(N.a,{type:"primary",danger:!0,children:"Cancel"})]})]})}))]})]})}}]),a}(i.Component),Je=Object(R.a)(Ze),Qe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var i;return Object(o.a)(this,a),(i=t.call(this,e)).Content=function(){return window.location.pathname===T.request?Object(n.jsx)(Je,Object(M.a)({},i.props)):window.location.pathname===T.passwordchange?Object(n.jsx)(Re,Object(M.a)({},i.props)):window.location.pathname===T.notification?Object(n.jsx)(Ee,Object(M.a)({},i.props)):window.location.pathname===T.mymovie?Object(n.jsx)(ze,Object(M.a)({},i.props)):window.location.pathname===T.form?Object(n.jsx)(_e,Object(M.a)({},i.props)):window.location.pathname===T.admin?Object(n.jsx)(Se,Object(M.a)({},i.props)):window.location.pathname===T.HomeCom?Object(n.jsx)(Ne,Object(M.a)({},i.props)):void 0},i.state={},i}return Object(c.a)(a,[{key:"render",value:function(){return Object(n.jsx)(O.a,{style:{width:"max-content"},children:Object(n.jsxs)(g.a,{children:[" ",Object(n.jsx)(se,Object(M.a)({},this.props)),this.Content()]})})}}]),a}(i.Component),Ke=(a(460),a(514)),We=f.a.Title,Ge=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSubmit=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.b.loading("Loding...",5);case 2:fetch("http://3.141.17.227:3001/api/forget_password",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n.state.email})}).then((function(e){return e.json()})).then((function(e){var t;"email send successfully"===e.info?(_.a.success({message:"Success",description:"Your email sended successful!"}),n.props.history.push("/passwordchange"),localStorage.setItem("forget_id",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id)):v.b.error("Faild",5)})).catch((function(e){v.b.error(e,5)}));case 3:case"end":return e.stop()}}),e)}))),n.setInputValue=function(e,t){n.setState(Object(b.a)({},e,t))},n.state={email:null},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state.email;return Object(n.jsx)("div",{className:"workspace",children:Object(n.jsxs)(O.a,{className:"workspacelog",children:[Object(n.jsx)(We,{level:5,className:"dis_title",children:"Forget password"}),Object(n.jsxs)(x.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(n.jsx)(x.a.Item,{name:"email",rules:[{required:!0,message:"Please enter your mail!"}],children:Object(n.jsx)(w.a,{size:"large",autoFocus:!0,autoComplete:"off",className:"Input",prefix:Object(n.jsx)(Ke.a,{}),value:t,onChange:function(t){return e.setInputValue("email",t.target.value)},placeholder:"example@gmail.com"})}),Object(n.jsxs)(x.a.Item,{children:[Object(n.jsxs)(N.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:["Submit ",Object(n.jsx)(S.a,{className:"loginIcon"})]}),Object(n.jsxs)("span",{className:"login-form-register",children:["Back to your sign in \xa0",Object(n.jsxs)("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return e.props.history.push("/login")},children:["Login ",Object(n.jsx)(Le.a,{})]})," "]})]})]})]})})}}]),a}(i.Component),Xe=f.a.Title,et=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setInputValue=function(e,t){n.setState(Object(b.a)({},e,t))},n.handleSubmit=Object(p.a)(h.a.mark((function e(){var t,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("admin")?"username":"id",i=localStorage.getItem("admin")?"password":"otp",e.next=5,v.b.loading("Login In....",5);case 5:fetch("http://193.164.132.55:3001/api/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify((t={},Object(b.a)(t,a,n.state.username),Object(b.a)(t,i,n.state.password),t))}).then((function(e){return e.json()})).then((function(e){var t;"login sucess"===e.info?(_.a.success({message:"Success",description:"User login has been successful!"}),localStorage.setItem("token",null===e||void 0===e?void 0:e.token),localStorage.setItem("user_id",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id),n.props.history.push("/home")):v.b.error("Faild to login",5)})).catch((function(e){v.b.error("Faild to login",5),console.log(e,5)}));case 6:case"end":return e.stop()}}),e)}))),n.state={username:localStorage.getItem("admin")?localStorage.getItem("user_name"):localStorage.getItem("user_id_login"),password:""},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state.password;return Object(n.jsx)("div",{className:"main-login",children:Object(n.jsxs)(O.a,{style:{height:"100%"},children:[Object(n.jsx)(g.a,{md:{span:24},lg:{span:12},className:"f-col",children:Object(n.jsx)("div",{className:"main",children:Object(n.jsxs)(x.a,{name:"normal_login",className:"login-form",onFinish:function(){return e.handleSubmit()},children:[Object(n.jsx)(y.a,{size:54,src:"assets/TITLES (2).png",className:"avatar"}),Object(n.jsx)(Xe,{level:3,className:"title",children:"Sign In"}),Object(n.jsx)(x.a.Item,{name:"password",rules:[{required:!0,message:1===localStorage.getItem("admin")?"Please enter your password!":"Please enter your otp!"}],children:Object(n.jsx)(w.a,{autoFocus:!0,autoComplete:"off",className:"Input",onChange:function(t){return e.setInputValue("password",t.target.value)},prefix:Object(n.jsx)(I.a,{className:"site-form-item-icon"}),value:t,placeholder:1===localStorage.getItem("admin")?"please enter password":"please enter otp"})}),Object(n.jsx)(x.a.Item,{style:{margin:0}}),Object(n.jsx)(x.a.Item,{children:Object(n.jsxs)(N.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:["Log in ",Object(n.jsx)(S.a,{className:"loginIcon"})]})})]})})}),Object(n.jsxs)(g.a,{span:12,className:"s-col",children:[Object(n.jsx)("div",{className:"circle-ripple"}),Object(n.jsx)("img",{style:{width:"100%",height:"100%"},alt:"img",src:"https://s3-eu-central-1.amazonaws.com/centaur-wp/marketingweek/prod/content/uploads/2020/05/20125057/shutterstock_586719869-750x500.jpg"})]})]})})}}]),a}(i.Component),tt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(n.jsx)(d.a,{children:Object(n.jsxs)(m.c,{children:[Object(n.jsx)(m.a,{exact:!0,path:"/",component:k}),Object(n.jsx)(m.a,{path:"/login",component:k}),Object(n.jsx)(m.a,{path:"/forget",component:Ge}),Object(n.jsx)(m.a,{path:"/signin",component:et}),Object(n.jsx)(m.a,{path:"/admin",component:Qe}),Object(n.jsx)(m.a,{path:"/home",component:Qe}),Object(n.jsx)(m.a,{path:"/notification",component:Qe}),Object(n.jsx)(m.a,{path:"/passwordchange",component:Qe}),Object(n.jsx)(m.a,{path:"/form",component:Qe}),Object(n.jsx)(m.a,{path:"/mymovie",component:Qe}),Object(n.jsx)(m.a,{path:"/request",component:Qe})]})})}}]),a}(s.a.Component),at=a(41),nt=a(255),it=a(10),st=a(506),rt=a(83),ot=a(127),ct=a(503),lt="auth_token",ut=new st.a({uri:"http://193.164.132.55:3001/graphql"}),dt=new rt.a((function(e,t){var a=localStorage.getItem(lt);return e.setContext({headers:{Authorization:a?"Bearer ".concat(a):""}}),t(e)})).concat(ut),mt=new nt.a({uri:"WSS://3.141.17.227:3001",options:{reconnect:!0,connectionParams:{Authorization:"Bearer ".concat(localStorage.getItem(lt))}}}),jt=Object(rt.d)((function(e){var t=e.query,a=Object(it.l)(t),n=a.kind,i=a.operation;return"OperationDefinition"===n&&"subscription"===i}),mt,dt),ht=new ot.a({link:rt.a.from([jt]),cache:new ct.a,connectToDevTools:!0}),pt=function(e){return Object(n.jsx)(at.b,{client:ht,children:e.children})},bt=s.a.createContext({user:{},setAuth:function(){return null}}),ft=a(256),vt=a.n(ft),Ot="POST",gt="auth_token",xt={},yt="GET",wt="auth_token",Nt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={user:{},isRefreshed:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.refreshAPI()}},{key:"refreshAPI",value:function(){var e=this;localStorage.getItem(wt)?function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!e&&!t)return Promise.reject({message:"URL and HTTP Method is not mentioned."});if(e){var s=new RegExp(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi);if(!e.match(s))return Promise.reject({message:"Malformed URL, Please check"})}if(t&&t===Ot&&!a)return Promise.reject({message:"POST method must contain Request Body."});if(!navigator.onLine)return Promise.reject({message:"Unable to connect with Internet!"});var r=n;return i&&(r=Object(M.a)(Object(M.a)({},n),{},{Authorization:gt})),vt()({method:t,url:e,data:a,headers:r})}("".concat(xt.api_url,"/auth/refresh"),yt,null,null,!0).then((function(t){var a;a=t.data.auth_token,localStorage.setItem(wt,a),e.setState({user:t.data.user,isRefreshed:!0})})).catch((function(t){localStorage.removeItem(wt),e.setState({isRefreshed:!0})})):this.setState({isRefreshed:!0})}},{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:this.state.isRefreshed?Object(n.jsx)(bt.Provider,{value:{user:this.state.user,setAuth:this.setState},children:this.props.children}):Object(n.jsx)(n.Fragment,{children:"Your Loader Here..."})})}}]),a}(s.a.Component),It=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"warpper",children:Object(n.jsx)(Nt,{children:Object(n.jsx)(pt,{children:Object(n.jsx)(tt,{})})})})}}]),a}(i.Component);a(487),a(488),a(489);r.render(Object(n.jsx)(It,{}),document.getElementById("root"))}},[[490,1,2]]]);
//# sourceMappingURL=main.15b97762.chunk.js.map